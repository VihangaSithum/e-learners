/*! For license information please see 8268-a51ac67416c034909d9e.js.LICENSE.txt */
(self.webpackChunkteamtailor=self.webpackChunkteamtailor||[]).push([[8268],{"./node_modules/@rails/request.js/src/verbs.js":function(e,t,n){"use strict";n.d(t,{v_:function(){return u}});class r{constructor(e){this.response=e}get statusCode(){return this.response.status}get redirected(){return this.response.redirected}get ok(){return this.response.ok}get unauthenticated(){return 401===this.statusCode}get unprocessableEntity(){return 422===this.statusCode}get authenticationURL(){return this.response.headers.get("WWW-Authenticate")}get contentType(){return(this.response.headers.get("Content-Type")||"").replace(/;.*$/,"")}get headers(){return this.response.headers}get html(){return this.contentType.match(/^(application|text)\/(html|xhtml\+xml)$/)?this.text:Promise.reject(new Error(`Expected an HTML response but got "${this.contentType}" instead`))}get json(){return this.contentType.match(/^application\/.*json$/)?this.responseJson||(this.responseJson=this.response.json()):Promise.reject(new Error(`Expected a JSON response but got "${this.contentType}" instead`))}get text(){return this.responseText||(this.responseText=this.response.text())}get isTurboStream(){return this.contentType.match(/^text\/vnd\.turbo-stream\.html/)}async renderTurboStream(){if(!this.isTurboStream)return Promise.reject(new Error(`Expected a Turbo Stream response but got "${this.contentType}" instead`));window.Turbo?await window.Turbo.renderStreamMessage(await this.text):console.warn("You must set `window.Turbo = Turbo` to automatically process Turbo Stream events with request.js")}}function i(e){const t=document.head.querySelector(`meta[name="${e}"]`);return t&&t.content}class o{constructor(e,t,n={}){this.method=e,this.options=n,this.originalUrl=t.toString()}async perform(){try{const e=class{static register(e){this.interceptor=e}static get(){return this.interceptor}static reset(){this.interceptor=void 0}}.get();e&&await e(this)}catch(t){console.error(t)}const e=new r(await window.fetch(this.url,this.fetchOptions));if(e.unauthenticated&&e.authenticationURL)return Promise.reject(window.location.href=e.authenticationURL);return(e.ok||e.unprocessableEntity)&&e.isTurboStream&&await e.renderTurboStream(),e}addHeader(e,t){const n=this.additionalHeaders;n[e]=t,this.options.headers=n}sameHostname(){if(!this.originalUrl.startsWith("http:"))return!0;try{return new URL(this.originalUrl).hostname===window.location.hostname}catch(e){return!0}}get fetchOptions(){return{method:this.method.toUpperCase(),headers:this.headers,body:this.formattedBody,signal:this.signal,credentials:this.credentials,redirect:this.redirect}}get headers(){const e={"X-Requested-With":"XMLHttpRequest","Content-Type":this.contentType,Accept:this.accept};return this.sameHostname()&&(e["X-CSRF-Token"]=this.csrfToken),function(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=r)}return t}(Object.assign(e,this.additionalHeaders))}get csrfToken(){return function(e){const t=document.cookie?document.cookie.split("; "):[],n=`${encodeURIComponent(e)}=`,r=t.find((e=>e.startsWith(n)));if(r){const e=r.split("=").slice(1).join("=");if(e)return decodeURIComponent(e)}}(i("csrf-param"))||i("csrf-token")}get contentType(){return this.options.contentType?this.options.contentType:null==this.body||this.body instanceof window.FormData?void 0:this.body instanceof window.File?this.body.type:"application/json"}get accept(){switch(this.responseKind){case"html":return"text/html, application/xhtml+xml";case"turbo-stream":return"text/vnd.turbo-stream.html, text/html, application/xhtml+xml";case"json":return"application/json, application/vnd.api+json";default:return"*/*"}}get body(){return this.options.body}get query(){const e=(this.originalUrl.split("?")[1]||"").split("#")[0],t=new URLSearchParams(e);let n=this.options.query;var r;n instanceof window.FormData?(r=n,n=[...r].reduce(((e,[t,n])=>e.concat("string"===typeof n?[[t,n]]:[])),[])):n=n instanceof window.URLSearchParams?n.entries():Object.entries(n||{}),function(e,t){for(const[n,r]of t)r instanceof window.File||(e.has(n)&&!n.includes("[]")?(e.delete(n),e.set(n,r)):e.append(n,r))}(t,n);const i=t.toString();return i.length>0?`?${i}`:""}get url(){return this.originalUrl.split("?")[0].split("#")[0]+this.query}get responseKind(){return this.options.responseKind||"html"}get signal(){return this.options.signal}get redirect(){return this.options.redirect||"follow"}get credentials(){return this.options.credentials||"same-origin"}get additionalHeaders(){return this.options.headers||{}}get formattedBody(){const e="[object String]"===Object.prototype.toString.call(this.body);return"application/json"===this.headers["Content-Type"]&&!e?JSON.stringify(this.body):this.body}}async function u(e,t){return new o("post",e,t).perform()}},"./node_modules/@xobotyi/scrollbar-width/dist/index.esm.js":function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r=function(e){if("undefined"==typeof document)return 0;if(document.body&&(!document.readyState||"loading"!==document.readyState)){if(!0!==e&&"number"==typeof r.__cache)return r.__cache;var t=document.createElement("div"),n=t.style;n.display="block",n.position="absolute",n.width="100px",n.height="100px",n.left="-999px",n.top="-999px",n.overflow="scroll",document.body.insertBefore(t,null);var i=t.clientWidth;if(0!==i)return r.__cache=100-i,document.body.removeChild(t),r.__cache;document.body.removeChild(t)}}},"./node_modules/check-password-strength/dist/umd.js":function(e,t,n){var r,i;void 0===(i="function"===typeof(r=function(){"use strict";const t=[{id:0,value:"Too weak",minDiversity:0,minLength:0},{id:1,value:"Weak",minDiversity:2,minLength:6},{id:2,value:"Medium",minDiversity:4,minLength:8},{id:3,value:"Strong",minDiversity:4,minLength:10}],n=(e,n=t,r="!\"#$%&'()*+,-./:;<=>?@[\\\\\\]^_`{|}~")=>{let i=e||"";n[0].minDiversity=0,n[0].minLength=0;const o=[{regex:"[a-z]",message:"lowercase"},{regex:"[A-Z]",message:"uppercase"},{regex:"[0-9]",message:"number"}];r&&o.push({regex:`[${r}]`,message:"symbol"});let u={};u.contains=o.filter((e=>new RegExp(`${e.regex}`).test(i))).map((e=>e.message)),u.length=i.length;let d=n.filter((e=>u.contains.length>=e.minDiversity)).filter((e=>u.length>=e.minLength)).sort(((e,t)=>t.id-e.id)).map((e=>({id:e.id,value:e.value})));return Object.assign(u,d[0]),u};e.exports={passwordStrength:n,defaultOptions:t}})?r.call(t,n,t,e):r)||(e.exports=i)},"./node_modules/debounce/index.js":function(e){function t(e,t,n){var r,i,o,u,d;function s(){var a=Date.now()-u;a<t&&a>=0?r=setTimeout(s,t-a):(r=null,n||(d=e.apply(o,i),o=i=null))}null==t&&(t=100);var a=function(){o=this,i=arguments,u=Date.now();var a=n&&!r;return r||(r=setTimeout(s,t)),a&&(d=e.apply(o,i),o=i=null),d};return a.clear=function(){r&&(clearTimeout(r),r=null)},a.flush=function(){r&&(d=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},a}t.debounce=t,e.exports=t},"./node_modules/focus-trap/dist/focus-trap.esm.js":function(e,t,n){"use strict";n.d(t,{v:function(){return E}});var r=["input","select","textarea","a[href]","button","[tabindex]:not(slot)","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary:first-of-type","details"],i=r.join(","),o="undefined"===typeof Element,u=o?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,d=!o&&Element.prototype.getRootNode?function(e){return e.getRootNode()}:function(e){return e.ownerDocument},s=function(e,t,n){var r=Array.prototype.slice.apply(e.querySelectorAll(i));return t&&u.call(e,i)&&r.unshift(e),r=r.filter(n)},a=function e(t,n,r){for(var o=[],d=Array.from(t);d.length;){var s=d.shift();if("SLOT"===s.tagName){var a=s.assignedElements(),l=e(a.length?a:s.children,!0,r);r.flatten?o.push.apply(o,l):o.push({scope:s,candidates:l})}else{u.call(s,i)&&r.filter(s)&&(n||!t.includes(s))&&o.push(s);var f=s.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(s),c=!r.shadowRootFilter||r.shadowRootFilter(s);if(f&&c){var h=e(!0===f?s.children:f.children,!0,r);r.flatten?o.push.apply(o,h):o.push({scope:s,candidates:h})}else d.unshift.apply(d,s.children)}}return o},l=function(e,t){return e.tabIndex<0&&(t||/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||e.isContentEditable)&&isNaN(parseInt(e.getAttribute("tabindex"),10))?0:e.tabIndex},f=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},c=function(e){return"INPUT"===e.tagName},h=function(e){return function(e){return c(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||d(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},p=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},m=function(e,t){return!(t.disabled||function(e){return c(e)&&"hidden"===e.type}(t)||function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=u.call(e,"details>summary:first-of-type")?e.parentElement:e;if(u.call(i,"details:not([open]) *"))return!0;var o=d(e).host,s=(null===o||void 0===o?void 0:o.ownerDocument.contains(o))||e.ownerDocument.contains(e);if(n&&"full"!==n){if("non-zero-area"===n)return p(e)}else{if("function"===typeof r){for(var a=e;e;){var l=e.parentElement,f=d(e);if(l&&!l.shadowRoot&&!0===r(l))return p(e);e=e.assignedSlot?e.assignedSlot:l||f===e.ownerDocument?l:f.host}e=a}if(s)return!e.getClientRects().length}return!1}(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!u.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},y=function(e,t){return!(h(t)||l(t)<0||!m(e,t))},b=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},g=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scope,u=o?t.scope:t,d=l(u,o),s=o?e(t.candidates):u;0===d?o?n.push.apply(n,s):n.push(u):r.push({documentOrder:i,tabIndex:d,item:t,isScope:o,content:s})})),r.sort(f).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},v=function(e,t){var n;return n=(t=t||{}).getShadowRoot?a([e],t.includeContainer,{filter:y.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:b}):s(e,t.includeContainer,y.bind(null,t)),g(n)},w=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==u.call(e,i)&&y(t,e)},x=r.concat("iframe").join(","),_=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==u.call(e,x)&&m(t,e)};function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var L,T=(L=[],{activateTrap:function(e){if(L.length>0){var t=L[L.length-1];t!==e&&t.pause()}var n=L.indexOf(e);-1===n||L.splice(n,1),L.push(e)},deactivateTrap:function(e){var t=L.indexOf(e);-1!==t&&L.splice(t,1),L.length>0&&L[L.length-1].unpause()}}),M=function(e){return setTimeout(e,0)},S=function(e,t){var n=-1;return e.every((function(e,r){return!t(e)||(n=r,!1)})),n},F=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e},C=function(e){return e.target.shadowRoot&&"function"===typeof e.composedPath?e.composedPath()[0]:e.target},E=function(e,t){var n,r=(null===t||void 0===t?void 0:t.document)||document,i=k({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0},t),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0},u=function(e,t,n){return e&&void 0!==e[t]?e[t]:i[n||t]},d=function(e){return o.containerGroups.findIndex((function(t){var n=t.container,r=t.tabbableNodes;return n.contains(e)||r.find((function(t){return t===e}))}))},l=function(e){var t=i[e];if("function"===typeof t){for(var n=arguments.length,o=new Array(n>1?n-1:0),u=1;u<n;u++)o[u-1]=arguments[u];t=t.apply(void 0,o)}if(!0===t&&(t=void 0),!t){if(void 0===t||!1===t)return t;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var d=t;if("string"===typeof t&&!(d=r.querySelector(t)))throw new Error("`".concat(e,"` as selector refers to no known node"));return d},f=function(){var e=l("initialFocus");if(!1===e)return!1;if(void 0===e)if(d(r.activeElement)>=0)e=r.activeElement;else{var t=o.tabbableGroups[0];e=t&&t.firstTabbableNode||l("fallbackFocus")}if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},c=function(){if(o.containerGroups=o.containers.map((function(e){var t,n,r=v(e,i.tabbableOptions),o=(t=e,(n=(n=i.tabbableOptions)||{}).getShadowRoot?a([t],n.includeContainer,{filter:m.bind(null,n),flatten:!0,getShadowRoot:n.getShadowRoot}):s(t,n.includeContainer,m.bind(null,n)));return{container:e,tabbableNodes:r,focusableNodes:o,firstTabbableNode:r.length>0?r[0]:null,lastTabbableNode:r.length>0?r[r.length-1]:null,nextTabbableNode:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=o.findIndex((function(t){return t===e}));if(!(n<0))return t?o.slice(n+1).find((function(e){return w(e,i.tabbableOptions)})):o.slice(0,n).reverse().find((function(e){return w(e,i.tabbableOptions)}))}}})),o.tabbableGroups=o.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),o.tabbableGroups.length<=0&&!l("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times")},h=function e(t){!1!==t&&t!==r.activeElement&&(t&&t.focus?(t.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=t,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select}(t)&&t.select()):e(f()))},p=function(e){var t=l("setReturnFocus",e);return t||!1!==t&&e},y=function(e){var t=C(e);d(t)>=0||(F(i.clickOutsideDeactivates,e)?n.deactivate({returnFocus:i.returnFocusOnDeactivate&&!_(t,i.tabbableOptions)}):F(i.allowOutsideClick,e)||e.preventDefault())},b=function(e){var t=C(e),n=d(t)>=0;n||t instanceof Document?n&&(o.mostRecentlyFocusedNode=t):(e.stopImmediatePropagation(),h(o.mostRecentlyFocusedNode||f()))},g=function(e){if(function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e)&&!1!==F(i.escapeDeactivates,e))return e.preventDefault(),void n.deactivate();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){var t=C(e);c();var n=null;if(o.tabbableGroups.length>0){var r=d(t),u=r>=0?o.containerGroups[r]:void 0;if(r<0)n=e.shiftKey?o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:o.tabbableGroups[0].firstTabbableNode;else if(e.shiftKey){var s=S(o.tabbableGroups,(function(e){var n=e.firstTabbableNode;return t===n}));if(s<0&&(u.container===t||_(t,i.tabbableOptions)&&!w(t,i.tabbableOptions)&&!u.nextTabbableNode(t,!1))&&(s=r),s>=0){var a=0===s?o.tabbableGroups.length-1:s-1;n=o.tabbableGroups[a].lastTabbableNode}}else{var f=S(o.tabbableGroups,(function(e){var n=e.lastTabbableNode;return t===n}));if(f<0&&(u.container===t||_(t,i.tabbableOptions)&&!w(t,i.tabbableOptions)&&!u.nextTabbableNode(t))&&(f=r),f>=0){var p=f===o.tabbableGroups.length-1?0:f+1;n=o.tabbableGroups[p].firstTabbableNode}}}else n=l("fallbackFocus");n&&(e.preventDefault(),h(n))}(e)},x=function(e){var t=C(e);d(t)>=0||F(i.clickOutsideDeactivates,e)||F(i.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},j=function(){if(o.active)return T.activateTrap(n),o.delayInitialFocusTimer=i.delayInitialFocus?M((function(){h(f())})):h(f()),r.addEventListener("focusin",b,!0),r.addEventListener("mousedown",y,{capture:!0,passive:!1}),r.addEventListener("touchstart",y,{capture:!0,passive:!1}),r.addEventListener("click",x,{capture:!0,passive:!1}),r.addEventListener("keydown",g,{capture:!0,passive:!1}),n},z=function(){if(o.active)return r.removeEventListener("focusin",b,!0),r.removeEventListener("mousedown",y,!0),r.removeEventListener("touchstart",y,!0),r.removeEventListener("click",x,!0),r.removeEventListener("keydown",g,!0),n};return(n={get active(){return o.active},get paused(){return o.paused},activate:function(e){if(o.active)return this;var t=u(e,"onActivate"),n=u(e,"onPostActivate"),i=u(e,"checkCanFocusTrap");i||c(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=r.activeElement,t&&t();var d=function(){i&&c(),j(),n&&n()};return i?(i(o.containers.concat()).then(d,d),this):(d(),this)},deactivate:function(e){if(!o.active)return this;var t=k({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},e);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,z(),o.active=!1,o.paused=!1,T.deactivateTrap(n);var r=u(t,"onDeactivate"),d=u(t,"onPostDeactivate"),s=u(t,"checkCanReturnFocus"),a=u(t,"returnFocus","returnFocusOnDeactivate");r&&r();var l=function(){M((function(){a&&h(p(o.nodeFocusedBeforeActivation)),d&&d()}))};return a&&s?(s(p(o.nodeFocusedBeforeActivation)).then(l,l),this):(l(),this)},pause:function(){return o.paused||!o.active||(o.paused=!0,z()),this},unpause:function(){return o.paused&&o.active?(o.paused=!1,c(),j(),this):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return o.containers=t.map((function(e){return"string"===typeof e?r.querySelector(e):e})),o.active&&c(),this}}).updateContainerElements(e),n}},"./node_modules/fontfaceobserver/fontfaceobserver.standalone.js":function(e){!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function r(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function i(e){var t=e.g.offsetWidth,n=t+100;return e.j.style.width=n+"px",e.i.scrollLeft=n,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function o(e,n){function r(){var e=o;i(e)&&null!==e.g.parentNode&&n(e.l)}var o=e;t(e.h,r),t(e.i,r),i(e)}function u(e,t,n){t=t||{},n=n||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=n}var d=null,s=null,a=null,l=null;function f(e){return null===l&&(l=!!e.document.fonts),l}function c(e,t){var n=e.style,r=e.weight;if(null===a){var i=document.createElement("div");try{i.style.font="condensed 100px sans-serif"}catch(o){}a=""!==i.style.font}return[n,r,a?e.stretch:"","100px",t].join(" ")}u.prototype.load=function(e,t){var i=this,u=e||"BESbswy",a=0,l=t||3e3,h=(new Date).getTime();return new Promise((function(e,t){if(f(i.context)&&!function(e){return null===s&&(f(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),s=!!e&&603>parseInt(e[1],10)):s=!1),s}(i.context)){var p=new Promise((function(e,t){!function n(){(new Date).getTime()-h>=l?t(Error(l+"ms timeout exceeded")):i.context.document.fonts.load(c(i,'"'+i.family+'"'),u).then((function(t){1<=t.length?e():setTimeout(n,25)}),t)}()})),m=new Promise((function(e,t){a=setTimeout((function(){t(Error(l+"ms timeout exceeded"))}),l)}));Promise.race([m,p]).then((function(){clearTimeout(a),e(i)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function s(){var t;(t=-1!=y&&-1!=b||-1!=y&&-1!=g||-1!=b&&-1!=g)&&((t=y!=b&&y!=g&&b!=g)||(null===d&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=d&&(y==v&&b==v&&g==v||y==w&&b==w&&g==w||y==x&&b==x&&g==x)),t=!t),t&&(null!==_.parentNode&&_.parentNode.removeChild(_),clearTimeout(a),e(i))}var f=new n(u),p=new n(u),m=new n(u),y=-1,b=-1,g=-1,v=-1,w=-1,x=-1,_=document.createElement("div");_.dir="ltr",r(f,c(i,"sans-serif")),r(p,c(i,"serif")),r(m,c(i,"monospace")),_.appendChild(f.g),_.appendChild(p.g),_.appendChild(m.g),i.context.document.body.appendChild(_),v=f.g.offsetWidth,w=p.g.offsetWidth,x=m.g.offsetWidth,function e(){if((new Date).getTime()-h>=l)null!==_.parentNode&&_.parentNode.removeChild(_),t(Error(l+"ms timeout exceeded"));else{var n=i.context.document.hidden;!0!==n&&void 0!==n||(y=f.g.offsetWidth,b=p.g.offsetWidth,g=m.g.offsetWidth,s()),a=setTimeout(e,50)}}(),o(f,(function(e){y=e,s()})),r(f,c(i,'"'+i.family+'",sans-serif')),o(p,(function(e){b=e,s()})),r(p,c(i,'"'+i.family+'",serif')),o(m,(function(e){g=e,s()})),r(m,c(i,'"'+i.family+'",monospace'))}))}))},e.exports=u}()},"./node_modules/hoverintent/index.js":function(e){"use strict";e.exports=function(e,t,n){var r,i,o,u,d=!1,s=!1,a={},l=0,f=0,c={sensitivity:7,interval:100,timeout:0,handleFocus:!1};function h(e){r=e.clientX,i=e.clientY}function p(e,n){if(f&&(f=clearTimeout(f)),Math.abs(o-r)+Math.abs(u-i)<c.sensitivity)return l=1,s?void 0:t.call(e,n);o=r,u=i,f=setTimeout((function(){p(e,n)}),c.interval)}function m(t){return d=!0,f&&(f=clearTimeout(f)),e.removeEventListener("mousemove",h,!1),1!==l&&(o=t.clientX,u=t.clientY,e.addEventListener("mousemove",h,!1),f=setTimeout((function(){p(e,t)}),c.interval)),this}function y(t){return d=!1,f&&(f=clearTimeout(f)),e.removeEventListener("mousemove",h,!1),1===l&&(f=setTimeout((function(){!function(e,t){f&&(f=clearTimeout(f)),l=0,s||n.call(e,t)}(e,t)}),c.timeout)),this}function b(n){d||(s=!0,t.call(e,n))}function g(t){!d&&s&&(s=!1,n.call(e,t))}function v(){e.removeEventListener("focus",b,!1),e.removeEventListener("blur",g,!1)}return a.options=function(t){var n=t.handleFocus!==c.handleFocus;return c=Object.assign({},c,t),n&&(c.handleFocus?(e.addEventListener("focus",b,!1),e.addEventListener("blur",g,!1)):v()),a},a.remove=function(){e&&(e.removeEventListener("mouseover",m,!1),e.removeEventListener("mouseout",y,!1),v())},e&&(e.addEventListener("mouseover",m,!1),e.addEventListener("mouseout",y,!1)),a}},"./node_modules/protomaps-leaflet/dist/protomaps-leaflet.module.js":function(e,t,n){"use strict";n.r(t),n.d(t,{CenteredSymbolizer:function(){return un},CenteredTextSymbolizer:function(){return an},CircleSymbolizer:function(){return en},FlexSymbolizer:function(){return nn},Font:function(){return Fn},GeomType:function(){return Ce},GroupSymbolizer:function(){return on},IconSymbolizer:function(){return Qt},Index:function(){return ut},Justify:function(){return Pt},Labeler:function(){return dt},Labelers:function(){return st},LineLabelPlacement:function(){return Kt},LineLabelSymbolizer:function(){return cn},LineSymbolizer:function(){return Jt},OffsetSymbolizer:function(){return ln},OffsetTextSymbolizer:function(){return fn},PMTiles:function(){return Ze},Padding:function(){return dn},PmtilesSource:function(){return Be},PolygonLabelSymbolizer:function(){return hn},PolygonSymbolizer:function(){return Xt},Sheet:function(){return En},ShieldSymbolizer:function(){return tn},Static:function(){return Ln},TextPlacements:function(){return At},TextSymbolizer:function(){return sn},TileCache:function(){return Ke},Toner:function(){return Yn},View:function(){return Qe},ZxySource:function(){return Ae},arr:function(){return Vt},covering:function(){return ot},createPattern:function(){return Yt},cubicBezier:function(){return Ht},dark:function(){return lt},exp:function(){return qt},filterFn:function(){return Dn},getFont:function(){return An},getZoom:function(){return zn},isCCW:function(){return qe},isInRing:function(){return Ue},json_style:function(){return In},labelRules:function(){return yn},leafletLayer:function(){return Sn},light:function(){return at},linear:function(){return $t},numberFn:function(){return On},numberOrFn:function(){return Pn},paintRules:function(){return mn},painter:function(){return nt},pointInPolygon:function(){return We},pointMinDistToLines:function(){return He},pointMinDistToPoints:function(){return $e},sourcesToViews:function(){return et},step:function(){return Wt},toIndex:function(){return De},transformGeom:function(){return Ge},widthFn:function(){return Bn},wrap:function(){return Je}});var r=Object.create,i=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,s=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,f=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,c=(e,t)=>function(){return t||(0,e[Object.keys(e)[0]])((t={exports:{}}).exports,t),t.exports},h=e=>{return((e,t,n)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let r of u(t))a.call(e,r)||"default"===r||i(e,r,{get:()=>t[r],enumerable:!(n=o(t,r))||n.enumerable});return e})((t=i(null!=e?r(s(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0}),i(t,"__esModule",{value:!0})),e);var t},p=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{d(n.next(e))}catch(t){i(t)}},u=e=>{try{d(n.throw(e))}catch(t){i(t)}},d=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,u);d((n=n.apply(e,t)).next())})),m=c({"node_modules/@mapbox/point-geometry/index.js"(e,t){function n(e,t){this.x=e,this.y=t}t.exports=n,n.prototype={clone:function(){return new n(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,n=e[2]*this.x+e[3]*this.y;return this.x=t,this.y=n,this},_add:function(e){return this.x+=e.x,this.y+=e.y,this},_sub:function(e){return this.x-=e.x,this.y-=e.y,this},_mult:function(e){return this.x*=e,this.y*=e,this},_div:function(e){return this.x/=e,this.y/=e,this},_multByPoint:function(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint:function(e){return this.x/=e.x,this.y/=e.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var e=this.y;return this.y=this.x,this.x=-e,this},_rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=t*this.x-n*this.y,i=n*this.x+t*this.y;return this.x=r,this.y=i,this},_rotateAround:function(e,t){var n=Math.cos(e),r=Math.sin(e),i=t.x+n*(this.x-t.x)-r*(this.y-t.y),o=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=i,this.y=o,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},n.convert=function(e){return e instanceof n?e:Array.isArray(e)?new n(e[0],e[1]):e}}}),y=c({"node_modules/@mapbox/vector-tile/lib/vectortilefeature.js"(e,t){var n=m();function r(e,t,n,r,o){this.properties={},this.extent=n,this.type=0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=o,e.readFields(i,this,t)}function i(e,t,n){1==e?t.id=n.readVarint():2==e?function(e,t){var n=e.readVarint()+e.pos;for(;e.pos<n;){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}(n,t):3==e?t.type=n.readVarint():4==e&&(t._geometry=n.pos)}function o(e){for(var t,n,r=0,i=0,o=e.length,u=o-1;i<o;u=i++)t=e[i],r+=((n=e[u]).x-t.x)*(t.y+n.y);return r}t.exports=r,r.types=["Unknown","Point","LineString","Polygon"],r.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;for(var t,r=e.readVarint()+e.pos,i=1,o=0,u=0,d=0,s=[];e.pos<r;){if(o<=0){var a=e.readVarint();i=7&a,o=a>>3}if(o--,1===i||2===i)u+=e.readSVarint(),d+=e.readSVarint(),1===i&&(t&&s.push(t),t=[]),t.push(new n(u,d));else{if(7!==i)throw new Error("unknown command "+i);t&&t.push(t[0].clone())}}return t&&s.push(t),s},r.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;for(var t=e.readVarint()+e.pos,n=1,r=0,i=0,o=0,u=1/0,d=-1/0,s=1/0,a=-1/0;e.pos<t;){if(r<=0){var l=e.readVarint();n=7&l,r=l>>3}if(r--,1===n||2===n)(i+=e.readSVarint())<u&&(u=i),i>d&&(d=i),(o+=e.readSVarint())<s&&(s=o),o>a&&(a=o);else if(7!==n)throw new Error("unknown command "+n)}return[u,s,d,a]},r.prototype.toGeoJSON=function(e,t,n){var i,u,d=this.extent*Math.pow(2,n),s=this.extent*e,a=this.extent*t,l=this.loadGeometry(),f=r.types[this.type];function c(e){for(var t=0;t<e.length;t++){var n=e[t],r=180-360*(n.y+a)/d;e[t]=[360*(n.x+s)/d-180,360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(i=0;i<l.length;i++)h[i]=l[i][0];c(l=h);break;case 2:for(i=0;i<l.length;i++)c(l[i]);break;case 3:for(l=function(e){var t=e.length;if(t<=1)return[e];for(var n,r,i=[],u=0;u<t;u++){var d=o(e[u]);0!==d&&(void 0===r&&(r=d<0),r===d<0?(n&&i.push(n),n=[e[u]]):n.push(e[u]))}n&&i.push(n);return i}(l),i=0;i<l.length;i++)for(u=0;u<l[i].length;u++)c(l[i][u])}1===l.length?l=l[0]:f="Multi"+f;var p={type:"Feature",geometry:{type:f,coordinates:l},properties:this.properties};return"id"in this&&(p.id=this.id),p}}}),b=c({"node_modules/@mapbox/vector-tile/lib/vectortilelayer.js"(e,t){var n=y();function r(e,t){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(i,this,t),this.length=this._features.length}function i(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){var t=null,n=e.readVarint()+e.pos;for(;e.pos<n;){var r=e.readVarint()>>3;t=1===r?e.readString():2===r?e.readFloat():3===r?e.readDouble():4===r?e.readVarint64():5===r?e.readVarint():6===r?e.readSVarint():7===r?e.readBoolean():null}return t}(n))}t.exports=r,r.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new n(this._pbf,t,this.extent,this._keys,this._values)}}}),g=c({"node_modules/@mapbox/vector-tile/lib/vectortile.js"(e,t){var n=b();function r(e,t,r){if(3===e){var i=new n(r,r.readVarint()+r.pos);i.length&&(t[i.name]=i)}}t.exports=function(e,t){this.layers=e.readFields(r,{},t)}}}),v=c({"node_modules/@mapbox/vector-tile/index.js"(e,t){t.exports.VectorTile=g(),t.exports.VectorTileFeature=y(),t.exports.VectorTileLayer=b()}}),w=c({"node_modules/ieee754/index.js"(e){e.read=function(e,t,n,r,i){var o,u,d=8*i-r-1,s=(1<<d)-1,a=s>>1,l=-7,f=n?i-1:0,c=n?-1:1,h=e[t+f];for(f+=c,o=h&(1<<-l)-1,h>>=-l,l+=d;l>0;o=256*o+e[t+f],f+=c,l-=8);for(u=o&(1<<-l)-1,o>>=-l,l+=r;l>0;u=256*u+e[t+f],f+=c,l-=8);if(0===o)o=1-a;else{if(o===s)return u?NaN:1/0*(h?-1:1);u+=Math.pow(2,r),o-=a}return(h?-1:1)*u*Math.pow(2,o-r)},e.write=function(e,t,n,r,i,o){var u,d,s,a=8*o-i-1,l=(1<<a)-1,f=l>>1,c=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(d=isNaN(t)?1:0,u=l):(u=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-u))<1&&(u--,s*=2),(t+=u+f>=1?c/s:c*Math.pow(2,1-f))*s>=2&&(u++,s/=2),u+f>=l?(d=0,u=l):u+f>=1?(d=(t*s-1)*Math.pow(2,i),u+=f):(d=t*Math.pow(2,f-1)*Math.pow(2,i),u=0));i>=8;e[n+h]=255&d,h+=p,d/=256,i-=8);for(u=u<<i|d,a+=i;a>0;e[n+h]=255&u,h+=p,u/=256,a-=8);e[n+h-p]|=128*m}}}),x=c({"node_modules/pbf/index.js"(e,t){t.exports=r;var n=w();function r(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0),this.pos=0,this.type=0,this.length=this.buf.length}r.Varint=0,r.Fixed64=1,r.Bytes=2,r.Fixed32=5;var i=4294967296,o=1/i,u="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function d(e){return e.type===r.Bytes?e.readVarint()+e.pos:e.pos+1}function s(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function a(e,t,n){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(var i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function l(e,t){for(var n=0;n<e.length;n++)t.writeVarint(e[n])}function f(e,t){for(var n=0;n<e.length;n++)t.writeSVarint(e[n])}function c(e,t){for(var n=0;n<e.length;n++)t.writeFloat(e[n])}function h(e,t){for(var n=0;n<e.length;n++)t.writeDouble(e[n])}function p(e,t){for(var n=0;n<e.length;n++)t.writeBoolean(e[n])}function m(e,t){for(var n=0;n<e.length;n++)t.writeFixed32(e[n])}function y(e,t){for(var n=0;n<e.length;n++)t.writeSFixed32(e[n])}function b(e,t){for(var n=0;n<e.length;n++)t.writeFixed64(e[n])}function g(e,t){for(var n=0;n<e.length;n++)t.writeSFixed64(e[n])}function v(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+16777216*e[t+3]}function x(e,t,n){e[n]=t,e[n+1]=t>>>8,e[n+2]=t>>>16,e[n+3]=t>>>24}function _(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}r.prototype={destroy:function(){this.buf=null},readFields:function(e,t,n){for(n=n||this.length;this.pos<n;){var r=this.readVarint(),i=r>>3,o=this.pos;this.type=7&r,e(i,t,this),this.pos===o&&this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=v(this.buf,this.pos);return this.pos+=4,e},readSFixed32:function(){var e=_(this.buf,this.pos);return this.pos+=4,e},readFixed64:function(){var e=v(this.buf,this.pos)+v(this.buf,this.pos+4)*i;return this.pos+=8,e},readSFixed64:function(){var e=v(this.buf,this.pos)+_(this.buf,this.pos+4)*i;return this.pos+=8,e},readFloat:function(){var e=n.read(this.buf,this.pos,!0,23,4);return this.pos+=4,e},readDouble:function(){var e=n.read(this.buf,this.pos,!0,52,8);return this.pos+=8,e},readVarint:function(e){var t,n,r=this.buf;return t=127&(n=r[this.pos++]),n<128?t:(t|=(127&(n=r[this.pos++]))<<7,n<128?t:(t|=(127&(n=r[this.pos++]))<<14,n<128?t:(t|=(127&(n=r[this.pos++]))<<21,n<128?t:function(e,t,n){var r,i,o=n.buf;if(i=o[n.pos++],r=(112&i)>>4,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(127&i)<<3,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(127&i)<<10,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(127&i)<<17,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(127&i)<<24,i<128)return s(e,r,t);if(i=o[n.pos++],r|=(1&i)<<31,i<128)return s(e,r,t);throw new Error("Expected varint not more than 10 bytes")}(t|=(15&(n=r[this.pos]))<<28,e,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&u?function(e,t,n){return u.decode(e.subarray(t,n))}(this.buf,t,e):function(e,t,n){var r="",i=t;for(;i<n;){var o,u,d,s=e[i],a=null,l=s>239?4:s>223?3:s>191?2:1;if(i+l>n)break;1===l?s<128&&(a=s):2===l?128===(192&(o=e[i+1]))&&(a=(31&s)<<6|63&o)<=127&&(a=null):3===l?(o=e[i+1],u=e[i+2],128===(192&o)&&128===(192&u)&&((a=(15&s)<<12|(63&o)<<6|63&u)<=2047||a>=55296&&a<=57343)&&(a=null)):4===l&&(o=e[i+1],u=e[i+2],d=e[i+3],128===(192&o)&&128===(192&u)&&128===(192&d)&&((a=(15&s)<<18|(63&o)<<12|(63&u)<<6|63&d)<=65535||a>=1114112)&&(a=null)),null===a?(a=65533,l=1):a>65535&&(a-=65536,r+=String.fromCharCode(a>>>10&1023|55296),a=56320|1023&a),r+=String.fromCharCode(a),i+=l}return r}(this.buf,t,e)},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t},readPackedVarint:function(e,t){if(this.type!==r.Bytes)return e.push(this.readVarint(t));var n=d(this);for(e=e||[];this.pos<n;)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){if(this.type!==r.Bytes)return e.push(this.readSVarint());var t=d(this);for(e=e||[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(e){if(this.type!==r.Bytes)return e.push(this.readBoolean());var t=d(this);for(e=e||[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(e){if(this.type!==r.Bytes)return e.push(this.readFloat());var t=d(this);for(e=e||[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(e){if(this.type!==r.Bytes)return e.push(this.readDouble());var t=d(this);for(e=e||[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed32());var t=d(this);for(e=e||[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed32());var t=d(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readFixed64());var t=d(this);for(e=e||[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){if(this.type!==r.Bytes)return e.push(this.readSFixed64());var t=d(this);for(e=e||[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(e){var t=7&e;if(t===r.Varint)for(;this.buf[this.pos++]>127;);else if(t===r.Bytes)this.pos=this.readVarint()+this.pos;else if(t===r.Fixed32)this.pos+=4;else{if(t!==r.Fixed64)throw new Error("Unimplemented type: "+t);this.pos+=8}},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){for(var t=this.length||16;t<this.pos+e;)t*=2;if(t!==this.length){var n=new Uint8Array(t);n.set(this.buf),this.buf=n,this.length=t}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4),x(this.buf,e,this.pos),this.pos+=4},writeSFixed32:function(e){this.realloc(4),x(this.buf,e,this.pos),this.pos+=4},writeFixed64:function(e){this.realloc(8),x(this.buf,-1&e,this.pos),x(this.buf,Math.floor(e*o),this.pos+4),this.pos+=8},writeSFixed64:function(e){this.realloc(8),x(this.buf,-1&e,this.pos),x(this.buf,Math.floor(e*o),this.pos+4),this.pos+=8},writeVarint:function(e){(e=+e||0)>268435455||e<0?function(e,t){var n,r;e>=0?(n=e%4294967296|0,r=e/4294967296|0):(r=~(-e/4294967296),4294967295^(n=~(-e%4294967296))?n=n+1|0:(n=0,r=r+1|0));if(e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos]=127&e}(n,0,t),function(e,t){var n=(7&e)<<4;if(t.buf[t.pos++]|=n|((e>>>=3)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;if(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),!e)return;t.buf[t.pos++]=127&e}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))},writeSVarint:function(e){this.writeVarint(e<0?2*-e-1:2*e)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e),this.realloc(4*e.length),this.pos++;var t=this.pos;this.pos=function(e,t,n){for(var r,i,o=0;o<t.length;o++){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);var n=this.pos-t;n>=128&&a(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n},writeFloat:function(e){this.realloc(4),n.write(this.buf,e,this.pos,!0,23,4),this.pos+=4},writeDouble:function(e){this.realloc(8),n.write(this.buf,e,this.pos,!0,52,8),this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t),this.realloc(t);for(var n=0;n<t;n++)this.buf[this.pos++]=e[n]},writeRawMessage:function(e,t){this.pos++;var n=this.pos;e(t,this);var r=this.pos-n;r>=128&&a(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(e,t,n){this.writeTag(e,r.Bytes),this.writeRawMessage(t,n)},writePackedVarint:function(e,t){t.length&&this.writeMessage(e,l,t)},writePackedSVarint:function(e,t){t.length&&this.writeMessage(e,f,t)},writePackedBoolean:function(e,t){t.length&&this.writeMessage(e,p,t)},writePackedFloat:function(e,t){t.length&&this.writeMessage(e,c,t)},writePackedDouble:function(e,t){t.length&&this.writeMessage(e,h,t)},writePackedFixed32:function(e,t){t.length&&this.writeMessage(e,m,t)},writePackedSFixed32:function(e,t){t.length&&this.writeMessage(e,y,t)},writePackedFixed64:function(e,t){t.length&&this.writeMessage(e,b,t)},writePackedSFixed64:function(e,t){t.length&&this.writeMessage(e,g,t)},writeBytesField:function(e,t){this.writeTag(e,r.Bytes),this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,r.Fixed32),this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,r.Fixed64),this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,r.Varint),this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,r.Bytes),this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,r.Fixed32),this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,r.Fixed64),this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}}}}),_=c({"node_modules/rbush/rbush.min.js"(e,t){var r,i;r=e,i=function(){function e(e,r,i,o,u){!function e(n,r,i,o,u){for(;o>i;){if(o-i>600){var d=o-i+1,s=r-i+1,a=Math.log(d),l=.5*Math.exp(2*a/3),f=.5*Math.sqrt(a*l*(d-l)/d)*(s-d/2<0?-1:1);e(n,r,Math.max(i,Math.floor(r-s*l/d+f)),Math.min(o,Math.floor(r+(d-s)*l/d+f)),u)}var c=n[r],h=i,p=o;for(t(n,i,r),u(n[o],c)>0&&t(n,i,o);h<p;){for(t(n,h,p),h++,p--;u(n[h],c)<0;)h++;for(;u(n[p],c)>0;)p--}0===u(n[i],c)?t(n,i,p):t(n,++p,o),p<=r&&(i=p+1),r<=p&&(o=p-1)}}(e,r,i||0,o||e.length-1,u||n)}function t(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function n(e,t){return e<t?-1:e>t?1:0}var r=function(e){void 0===e&&(e=9),this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(e,t,n){if(!n)return t.indexOf(e);for(var r=0;r<t.length;r++)if(n(e,t[r]))return r;return-1}function o(e,t){u(e,0,e.children.length,t,e)}function u(e,t,n,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var o=t;o<n;o++){var u=e.children[o];d(i,e.leaf?r(u):u)}return i}function d(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function s(e,t){return e.minX-t.minX}function a(e,t){return e.minY-t.minY}function l(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function f(e){return e.maxX-e.minX+(e.maxY-e.minY)}function c(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function h(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function p(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function m(t,n,r,i,o){for(var u=[n,r];u.length;)if(!((r=u.pop())-(n=u.pop())<=i)){var d=n+Math.ceil((r-n)/i/2)*i;e(t,d,n,r,o),u.push(n,d,d,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(e){var t=this.data,n=[];if(!h(e,t))return n;for(var r=this.toBBox,i=[];t;){for(var o=0;o<t.children.length;o++){var u=t.children[o],d=t.leaf?r(u):u;h(e,d)&&(t.leaf?n.push(u):c(e,d)?this._all(u,n):i.push(u))}t=i.pop()}return n},r.prototype.collides=function(e){var t=this.data;if(!h(e,t))return!1;for(var n=[];t;){for(var r=0;r<t.children.length;r++){var i=t.children[r],o=t.leaf?this.toBBox(i):i;if(h(e,o)){if(t.leaf||c(e,o))return!0;n.push(i)}}t=n.pop()}return!1},r.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(e,t){if(!e)return this;for(var n,r,o,u=this.data,d=this.toBBox(e),s=[],a=[];u||s.length;){if(u||(u=s.pop(),r=s[s.length-1],n=a.pop(),o=!0),u.leaf){var l=i(e,u.children,t);if(-1!==l)return u.children.splice(l,1),s.push(u),this._condense(s),this}o||u.leaf||!c(u,d)?r?(n++,u=r.children[n],o=!1):u=null:(s.push(u),a.push(n),n=0,r=u,u=u.children[0])}return this},r.prototype.toBBox=function(e){return e},r.prototype.compareMinX=function(e,t){return e.minX-t.minX},r.prototype.compareMinY=function(e,t){return e.minY-t.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(e){return this.data=e,this},r.prototype._all=function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,e.children):n.push.apply(n,e.children),e=n.pop();return t},r.prototype._build=function(e,t,n,r){var i,u=n-t+1,d=this._maxEntries;if(u<=d)return o(i=p(e.slice(t,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(u)/Math.log(d)),d=Math.ceil(u/Math.pow(d,r-1))),(i=p([])).leaf=!1,i.height=r;var s=Math.ceil(u/d),a=s*Math.ceil(Math.sqrt(d));m(e,t,n,a,this.compareMinX);for(var l=t;l<=n;l+=a){var f=Math.min(l+a-1,n);m(e,l,f,s,this.compareMinY);for(var c=l;c<=f;c+=s){var h=Math.min(c+s-1,f);i.children.push(this._build(e,c,h,r-1))}}return o(i,this.toBBox),i},r.prototype._chooseSubtree=function(e,t,n,r){for(;r.push(t),!t.leaf&&r.length-1!==n;){for(var i=1/0,o=1/0,u=void 0,d=0;d<t.children.length;d++){var s=t.children[d],a=l(s),f=(c=e,h=s,(Math.max(h.maxX,c.maxX)-Math.min(h.minX,c.minX))*(Math.max(h.maxY,c.maxY)-Math.min(h.minY,c.minY))-a);f<o?(o=f,i=a<i?a:i,u=s):f===o&&a<i&&(i=a,u=s)}t=u||t.children[0]}var c,h;return t},r.prototype._insert=function(e,t,n){var r=n?e:this.toBBox(e),i=[],o=this._chooseSubtree(r,this.data,t,i);for(o.children.push(e),d(o,r);t>=0&&i[t].children.length>this._maxEntries;)this._split(i,t),t--;this._adjustParentBBoxes(r,i,t)},r.prototype._split=function(e,t){var n=e[t],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var u=this._chooseSplitIndex(n,i,r),d=p(n.children.splice(u,n.children.length-u));d.height=n.height,d.leaf=n.leaf,o(n,this.toBBox),o(d,this.toBBox),t?e[t-1].children.push(d):this._splitRoot(n,d)},r.prototype._splitRoot=function(e,t){this.data=p([e,t]),this.data.height=e.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(e,t,n){for(var r,i,o,d,s,a,f,c=1/0,h=1/0,p=t;p<=n-t;p++){var m=u(e,0,p,this.toBBox),y=u(e,p,n,this.toBBox),b=(i=m,o=y,d=Math.max(i.minX,o.minX),s=Math.max(i.minY,o.minY),a=Math.min(i.maxX,o.maxX),f=Math.min(i.maxY,o.maxY),Math.max(0,a-d)*Math.max(0,f-s)),g=l(m)+l(y);b<c?(c=b,r=p,h=g<h?g:h):b===c&&g<h&&(h=g,r=p)}return r||n-t},r.prototype._chooseSplitAxis=function(e,t,n){var r=e.leaf?this.compareMinX:s,i=e.leaf?this.compareMinY:a;this._allDistMargin(e,t,n,r)<this._allDistMargin(e,t,n,i)&&e.children.sort(r)},r.prototype._allDistMargin=function(e,t,n,r){e.children.sort(r);for(var i=this.toBBox,o=u(e,0,t,i),s=u(e,n-t,n,i),a=f(o)+f(s),l=t;l<n-t;l++){var c=e.children[l];d(o,e.leaf?i(c):c),a+=f(o)}for(var h=n-t-1;h>=t;h--){var p=e.children[h];d(s,e.leaf?i(p):p),a+=f(s)}return a},r.prototype._adjustParentBBoxes=function(e,t,n){for(var r=n;r>=0;r--)d(t[r],e)},r.prototype._condense=function(e){for(var t=e.length-1,n=void 0;t>=0;t--)0===e[t].children.length?t>0?(n=e[t-1].children).splice(n.indexOf(e[t]),1):this.clear():o(e[t],this.toBBox)},r},"object"==typeof e&&"undefined"!=typeof t?t.exports=i():"function"==typeof define&&n.amdO?define(i):(r=r||self).RBush=i()}}),j=c({"src/types/unitbezier.d.ts"(){}}),k=c({"node_modules/tinyqueue/tinyqueue.js"(e,t){var r,i;r=e,i=function(){var e=function(e,n){if(void 0===e&&(e=[]),void 0===n&&(n=t),this.data=e,this.length=this.data.length,this.compare=n,this.length>0)for(var r=(this.length>>1)-1;r>=0;r--)this._down(r)};function t(e,t){return e<t?-1:e>t?1:0}return e.prototype.push=function(e){this.data.push(e),this.length++,this._up(this.length-1)},e.prototype.pop=function(){if(0!==this.length){var e=this.data[0],t=this.data.pop();return this.length--,this.length>0&&(this.data[0]=t,this._down(0)),e}},e.prototype.peek=function(){return this.data[0]},e.prototype._up=function(e){for(var t=this.data,n=this.compare,r=t[e];e>0;){var i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r},e.prototype._down=function(e){for(var t=this.data,n=this.compare,r=this.length>>1,i=t[e];e<r;){var o=1+(e<<1),u=t[o],d=o+1;if(d<this.length&&n(t[d],u)<0&&(o=d,u=t[d]),n(u,i)>=0)break;t[e]=u,e=o}t[e]=i},e},"object"===typeof e&&"undefined"!==typeof t?t.exports=i():"function"===typeof define&&n.amdO?define(i):(r=r||self).TinyQueue=i()}}),z=c({"node_modules/polylabel/polylabel.js"(e,t){var n=k();function r(e,t,r){var u,d,s,a;t=t||1;for(var l=0;l<e[0].length;l++){var f=e[0][l];(!l||f[0]<u)&&(u=f[0]),(!l||f[1]<d)&&(d=f[1]),(!l||f[0]>s)&&(s=f[0]),(!l||f[1]>a)&&(a=f[1])}var c=s-u,h=a-d,p=Math.min(c,h),m=p/2;if(0===p){var y=[u,d];return y.distance=0,y}for(var b=new n(void 0,i),g=u;g<s;g+=p)for(var v=d;v<a;v+=p)b.push(new o(g+m,v+m,m,e));var w=function(e){for(var t=0,n=0,r=0,i=e[0],u=0,d=i.length,s=d-1;u<d;s=u++){var a=i[u],l=i[s],f=a[0]*l[1]-l[0]*a[1];n+=(a[0]+l[0])*f,r+=(a[1]+l[1])*f,t+=3*f}return 0===t?new o(i[0][0],i[0][1],0,e):new o(n/t,r/t,0,e)}(e),x=new o(u+c/2,d+h/2,0,e);x.d>w.d&&(w=x);for(var _=b.length;b.length;){var j=b.pop();j.d>w.d&&(w=j,r&&console.log("found best %d after %d probes",Math.round(1e4*j.d)/1e4,_)),j.max-w.d<=t||(m=j.h/2,b.push(new o(j.x-m,j.y-m,m,e)),b.push(new o(j.x+m,j.y-m,m,e)),b.push(new o(j.x-m,j.y+m,m,e)),b.push(new o(j.x+m,j.y+m,m,e)),_+=4)}r&&(console.log("num probes: "+_),console.log("best distance: "+w.d));var k=[w.x,w.y];return k.distance=w.d,k}function i(e,t){return t.max-e.max}function o(e,t,n,r){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var r=!1,i=1/0,o=0;o<n.length;o++)for(var d=n[o],s=0,a=d.length,l=a-1;s<a;l=s++){var f=d[s],c=d[l];f[1]>t!==c[1]>t&&e<(c[0]-f[0])*(t-f[1])/(c[1]-f[1])+f[0]&&(r=!r),i=Math.min(i,u(e,t,f,c))}return 0===i?0:(r?1:-1)*Math.sqrt(i)}(e,t,r),this.max=this.d+this.h*Math.SQRT2}function u(e,t,n,r){var i=n[0],o=n[1],u=r[0]-i,d=r[1]-o;if(0!==u||0!==d){var s=((e-i)*u+(t-o)*d)/(u*u+d*d);s>1?(i=r[0],o=r[1]):s>0&&(i+=u*s,o+=d*s)}return(u=e-i)*u+(d=t-o)*d}n.default&&(n=n.default),t.exports=r,t.exports.default=r}}),T=h(m()),M=h(m()),S=h(m()),F=h(v()),C=h(x()),E=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{d(n.next(e))}catch(t){i(t)}},u=e=>{try{d(n.throw(e))}catch(t){i(t)}},d=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,u);d((n=n.apply(e,t)).next())})),Z=Uint8Array,D=Uint16Array,O=Uint32Array,P=new Z([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),B=new Z([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A=new Z([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),I=function(e,t){for(var n=new D(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new O(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},Y=I(P,2),X=Y[0],V=Y[1];X[28]=258,V[258]=28;var N,R=I(B,0),U=R[0],q=(R[1],new D(32768));for(H=0;H<32768;++H)N=(61680&(N=(52428&(N=(43690&H)>>>1|(21845&H)<<1))>>>2|(13107&N)<<2))>>>4|(3855&N)<<4,q[H]=((65280&N)>>>8|(255&N)<<8)>>>1;var W=function(e,t,n){for(var r=e.length,i=0,o=new D(t);i<r;++i)e[i]&&++o[e[i]-1];var u,d=new D(t);for(i=0;i<t;++i)d[i]=d[i-1]+o[i-1]<<1;if(n){u=new D(1<<t);var s=15-t;for(i=0;i<r;++i)if(e[i])for(var a=i<<4|e[i],l=t-e[i],f=d[e[i]-1]++<<l,c=f|(1<<l)-1;f<=c;++f)u[q[f]>>>s]=a}else for(u=new D(r),i=0;i<r;++i)e[i]&&(u[i]=q[d[e[i]-1]++]>>>15-e[i]);return u},$=new Z(288);for(H=0;H<144;++H)$[H]=8;for(H=144;H<256;++H)$[H]=9;for(H=256;H<280;++H)$[H]=7;for(H=280;H<288;++H)$[H]=8;var H,K=new Z(32);for(H=0;H<32;++H)K[H]=5;var G=W($,9,1),J=W(K,5,1),Q=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ee=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},te=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},ne=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],re=function(e,t,n){var r=new Error(t||ne[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,re),!n)throw r;return r},ie=function(e,t,n){var r=e.length;if(!r||n&&n.f&&!n.l)return t||new Z(0);var i=!t||n,o=!n||n.i;n||(n={}),t||(t=new Z(3*r));var u=function(e){var n=t.length;if(e>n){var r=new Z(Math.max(2*n,e));r.set(t),t=r}},d=n.f||0,s=n.p||0,a=n.b||0,l=n.l,f=n.d,c=n.m,h=n.n,p=8*r;do{if(!l){d=ee(e,s,1);var m=ee(e,s+1,3);if(s+=3,!m){var y=e[(T=4+((s+7)/8|0))-4]|e[T-3]<<8,b=T+y;if(b>r){o&&re(0);break}i&&u(a+y),t.set(e.subarray(T,b),a),n.b=a+=y,n.p=s=8*b,n.f=d;continue}if(1==m)l=G,f=J,c=9,h=5;else if(2==m){var g=ee(e,s,31)+257,v=ee(e,s+10,15)+4,w=g+ee(e,s+5,31)+1;s+=14;for(var x=new Z(w),_=new Z(19),j=0;j<v;++j)_[A[j]]=ee(e,s+3*j,7);s+=3*v;var k=Q(_),z=(1<<k)-1,L=W(_,k,1);for(j=0;j<w;){var T,M=L[ee(e,s,z)];if(s+=15&M,(T=M>>>4)<16)x[j++]=T;else{var S=0,F=0;for(16==T?(F=3+ee(e,s,3),s+=2,S=x[j-1]):17==T?(F=3+ee(e,s,7),s+=3):18==T&&(F=11+ee(e,s,127),s+=7);F--;)x[j++]=S}}var C=x.subarray(0,g),E=x.subarray(g);c=Q(C),h=Q(E),l=W(C,c,1),f=W(E,h,1)}else re(1);if(s>p){o&&re(0);break}}i&&u(a+131072);for(var I=(1<<c)-1,Y=(1<<h)-1,V=s;;V=s){var N=(S=l[te(e,s)&I])>>>4;if((s+=15&S)>p){o&&re(0);break}if(S||re(2),N<256)t[a++]=N;else{if(256==N){V=s,l=null;break}var R=N-254;if(N>264){var q=P[j=N-257];R=ee(e,s,(1<<q)-1)+X[j],s+=q}var $=f[te(e,s)&Y],H=$>>>4;$||re(3),s+=15&$;E=U[H];if(H>3){q=B[H];E+=te(e,s)&(1<<q)-1,s+=q}if(s>p){o&&re(0);break}i&&u(a+131072);for(var K=a+R;a<K;a+=4)t[a]=t[a-E],t[a+1]=t[a+1-E],t[a+2]=t[a+2-E],t[a+3]=t[a+3-E];a=K}}n.l=l,n.p=V,n.b=a,n.f=d,l&&(d=1,n.m=c,n.d=f,n.n=h)}while(!d);return a==t.length?t:function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var r=new(2==e.BYTES_PER_ELEMENT?D:4==e.BYTES_PER_ELEMENT?O:Z)(n-t);return r.set(e.subarray(t,n)),r}(t,0,a)},oe=new Z(0);function ue(e,t){return ie(e.subarray(function(e){31==e[0]&&139==e[1]&&8==e[2]||re(6,"invalid gzip data");var t=e[3],n=10;4&t&&(n+=e[10]|2+(e[11]<<8));for(var r=(t>>3&1)+(t>>4&1);r>0;r-=!e[n++]);return n+(2&t)}(e),-8),t||new Z((r=(n=e).length,(n[r-4]|n[r-3]<<8|n[r-2]<<16|n[r-1]<<24)>>>0)));var n,r}function de(e,t){return ie(((8!=(15&(n=e)[0])||n[0]>>>4>7||(n[0]<<8|n[1])%31)&&re(6,"invalid zlib data"),32&n[1]&&re(6,"invalid zlib data: preset dictionaries not supported"),e.subarray(2,-4)),t);var n}function se(e,t){return 31==e[0]&&139==e[1]&&8==e[2]?ue(e,t):8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31?function(e,t){return ie(e,t)}(e,t):de(e,t)}var ae="undefined"!=typeof TextDecoder&&new TextDecoder;try{ae.decode(oe,{stream:!0}),1}catch(Xn){}var le=(e,t)=>e*Math.pow(2,t),fe=(e,t)=>Math.floor(e/Math.pow(2,t)),ce=(e,t)=>le(e.getUint16(t+1,!0),8)+e.getUint8(t),he=(e,t)=>le(e.getUint32(t+2,!0),16)+e.getUint16(t,!0),pe=(e,t,n,r,i)=>{if(e!=r.getUint8(i))return e-r.getUint8(i);const o=ce(r,i+1);if(t!=o)return t-o;const u=ce(r,i+4);return n!=u?n-u:0},me=(e,t,n,r)=>{const i=ye(e,t,n,r);return i?{z:t,x:n,y:r,offset:i[0],length:i[1],is_dir:!1}:null},ye=(e,t,n,r)=>{let i=0,o=e.byteLength/17-1;for(;i<=o;){const u=o+i>>1,d=pe(t,n,r,e,17*u);if(d>0)i=u+1;else{if(!(d<0))return[he(e,17*u+7),e.getUint32(17*u+13,!0)];o=u-1}}return null},be=(e,t)=>e.is_dir&&!t.is_dir?1:!e.is_dir&&t.is_dir?-1:e.z!==t.z?e.z-t.z:e.x!==t.x?e.x-t.x:e.y-t.y,ge=(e,t)=>{const n=e.getUint8(17*t);return{z:127&n,x:ce(e,17*t+1),y:ce(e,17*t+4),offset:he(e,17*t+7),length:e.getUint32(17*t+13,!0),is_dir:n>>7===1}},ve=e=>{const t=[],n=new DataView(e);for(let r=0;r<n.byteLength/17;r++)t.push(ge(n,r));return we(t)},we=e=>{e.sort(be);const t=new ArrayBuffer(17*e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++){const t=e[r];let i=t.z;t.is_dir&&(i|=128),n[17*r]=i,n[17*r+1]=255&t.x,n[17*r+2]=t.x>>8&255,n[17*r+3]=t.x>>16&255,n[17*r+4]=255&t.y,n[17*r+5]=t.y>>8&255,n[17*r+6]=t.y>>16&255,n[17*r+7]=255&t.offset,n[17*r+8]=255&fe(t.offset,8),n[17*r+9]=255&fe(t.offset,16),n[17*r+10]=255&fe(t.offset,24),n[17*r+11]=255&fe(t.offset,32),n[17*r+12]=255&fe(t.offset,48),n[17*r+13]=255&t.length,n[17*r+14]=t.length>>8&255,n[17*r+15]=t.length>>16&255,n[17*r+16]=t.length>>24&255}return t};var xe={getHeader:function(e){return E(this,null,(function*(){const t=yield e.getBytes(0,512e3),n=new DataView(t.data),r=n.getUint32(4,!0),i=n.getUint16(8,!0),o=new TextDecoder("utf-8"),u=JSON.parse(o.decode(new DataView(t.data,10,r)));let d=0;"gzip"===u.compression&&(d=2);let s=0;"minzoom"in u&&(s=+u.minzoom);let a=0;"maxzoom"in u&&(a=+u.maxzoom);let l=0,f=0,c=0,h=-180,p=-85,m=180,y=85;if(u.bounds){const e=u.bounds.split(",");h=+e[0],p=+e[1],m=+e[2],y=+e[3]}if(u.center){const e=u.center.split(",");l=+e[0],f=+e[1],c=+e[2]}return{specVersion:n.getUint16(2,!0),rootDirectoryOffset:10+r,rootDirectoryLength:17*i,jsonMetadataOffset:10,jsonMetadataLength:r,leafDirectoryOffset:0,leafDirectoryLength:void 0,tileDataOffset:0,tileDataLength:void 0,numAddressedTiles:0,numTileEntries:0,numTileContents:0,clustered:!1,internalCompression:1,tileCompression:d,tileType:1,minZoom:s,maxZoom:a,minLon:h,minLat:p,maxLon:m,maxLat:y,centerZoom:c,centerLon:l,centerLat:f,etag:t.etag}}))},getZxy:function(e,t,n,r,i,o,u){return E(this,null,(function*(){let d=yield n.getArrayBuffer(t,e.rootDirectoryOffset,e.rootDirectoryLength,e);1===e.specVersion&&(d=ve(d));const s=me(new DataView(d),r,i,o);if(s){let e=(yield t.getBytes(s.offset,s.length,u)).data;const n=new DataView(e);return 31==n.getUint8(0)&&139==n.getUint8(1)&&(e=se(new Uint8Array(e))),{data:e}}const a=((e,t)=>{if(e.byteLength<17)return null;const n=e.byteLength/17,r=ge(e,n-1);if(r.is_dir){const e=r.z,n=t.z-e;return{z:e,x:Math.trunc(t.x/(1<<n)),y:Math.trunc(t.y/(1<<n))}}return null})(new DataView(d),{z:r,x:i,y:o});if(a){const s=((e,t,n,r)=>{const i=ye(e,128|t,n,r);return i?{z:t,x:n,y:r,offset:i[0],length:i[1],is_dir:!0}:null})(new DataView(d),a.z,a.x,a.y);if(s){let d=yield n.getArrayBuffer(t,s.offset,s.length,e);1===e.specVersion&&(d=ve(d));const a=me(new DataView(d),r,i,o);if(a){let e=(yield t.getBytes(a.offset,a.length,u)).data;const n=new DataView(e);return 31==n.getUint8(0)&&139==n.getUint8(1)&&(e=se(new Uint8Array(e))),{data:e}}}}}))}};function _e(e,t){return 4294967296*(t>>>0)+(e>>>0)}function je(e){const t=e.buf;let n,r;return r=t[e.pos++],n=127&r,r<128?n:(r=t[e.pos++],n|=(127&r)<<7,r<128?n:(r=t[e.pos++],n|=(127&r)<<14,r<128?n:(r=t[e.pos++],n|=(127&r)<<21,r<128?n:(r=t[e.pos],n|=(15&r)<<28,function(e,t){const n=t.buf;let r,i;if(i=n[t.pos++],r=(112&i)>>4,i<128)return _e(e,r);if(i=n[t.pos++],r|=(127&i)<<3,i<128)return _e(e,r);if(i=n[t.pos++],r|=(127&i)<<10,i<128)return _e(e,r);if(i=n[t.pos++],r|=(127&i)<<17,i<128)return _e(e,r);if(i=n[t.pos++],r|=(127&i)<<24,i<128)return _e(e,r);if(i=n[t.pos++],r|=(1&i)<<31,i<128)return _e(e,r);throw new Error("Expected varint not more than 10 bytes")}(n,e)))))}function ke(e,t,n,r){if(0==r){1==n&&(t[0]=e-1-t[0],t[1]=e-1-t[1]);const r=t[0];t[0]=t[1],t[1]=r}}function ze(e,t){return E(this,null,(function*(){if(1===t||0===t)return e;if(2===t)return se(new Uint8Array(e));throw Error("Compression method not supported")}))}function Le(e,t){let n=0,r=e.length-1;for(;n<=r;){const i=r+n>>1,o=t-e[i].tileId;if(o>0)n=i+1;else{if(!(o<0))return e[i];r=i-1}}if(r>=0){if(0===e[r].runLength)return e[r];if(t-e[r].tileId<e[r].runLength)return e[r]}return null}function Te(e,t){const n=e.getUint32(t+4,!0),r=e.getUint32(t+0,!0);return n*Math.pow(2,32)+r}function Me(e){const t={buf:new Uint8Array(e),pos:0},n=je(t),r=[];let i=0;for(let o=0;o<n;o++){const e=je(t);r.push({tileId:i+e,offset:0,length:0,runLength:1}),i+=e}for(let o=0;o<n;o++)r[o].runLength=je(t);for(let o=0;o<n;o++)r[o].length=je(t);for(let o=0;o<n;o++){const e=je(t);r[o].offset=0===e&&o>0?r[o-1].offset+r[o-1].length:e-1}return r}var Se=class extends Error{};function Fe(e,t,n,r){return E(this,null,(function*(){const i=yield e.getBytes(0,16384);if(19792!==new DataView(i.data).getUint16(0,!0))throw new Error("Wrong magic number for PMTiles archive");if(function(e){const t=new DataView(e);return 2===t.getUint16(2,!0)?(console.warn("PMTiles spec version 2 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),2):1===t.getUint16(2,!0)?(console.warn("PMTiles spec version 1 has been deprecated; please see github.com/protomaps/PMTiles for tools to upgrade"),1):3}(i.data)<3)return[yield xe.getHeader(e)];const o=i.data.slice(0,127);let u=i.etag;r&&i.etag!=r&&(console.warn("ETag conflict detected; your HTTP server might not support content-based ETag headers. ETags disabled for "+e.getKey()),u=void 0);const d=function(e,t){const n=new DataView(e),r=n.getUint8(7);if(r>3)throw Error(`Archive is spec version ${r} but this library supports up to spec version 3`);return{specVersion:r,rootDirectoryOffset:Te(n,8),rootDirectoryLength:Te(n,16),jsonMetadataOffset:Te(n,24),jsonMetadataLength:Te(n,32),leafDirectoryOffset:Te(n,40),leafDirectoryLength:Te(n,48),tileDataOffset:Te(n,56),tileDataLength:Te(n,64),numAddressedTiles:Te(n,72),numTileEntries:Te(n,80),numTileContents:Te(n,88),clustered:1===n.getUint8(96),internalCompression:n.getUint8(97),tileCompression:n.getUint8(98),tileType:n.getUint8(99),minZoom:n.getUint8(100),maxZoom:n.getUint8(101),minLon:n.getInt32(102,!0)/1e7,minLat:n.getInt32(106,!0)/1e7,maxLon:n.getInt32(110,!0)/1e7,maxLat:n.getInt32(114,!0)/1e7,centerZoom:n.getUint8(118),centerLon:n.getInt32(119,!0)/1e7,centerLat:n.getInt32(123,!0)/1e7,etag:t}}(o,u);if(n){const n=i.data.slice(d.rootDirectoryOffset,d.rootDirectoryOffset+d.rootDirectoryLength),r=e.getKey()+"|"+(d.etag||"")+"|"+d.rootDirectoryOffset+"|"+d.rootDirectoryLength,o=Me(yield t(n,d.internalCompression));return[d,[r,o.length,o]]}return[d,void 0]}))}var Ce,Ee,Ze=class{constructor(e,t,n){this.source="string"===typeof e?new class{constructor(e){this.url=e}getKey(){return this.url}getBytes(e,t,n){return E(this,null,(function*(){let r;n||(r=new AbortController,n=r.signal);let i=yield fetch(this.url,{signal:n,headers:{Range:"bytes="+e+"-"+(e+t-1)}});if(416===i.status&&0===e){const e=i.headers.get("Content-Range");if(!e||!e.startsWith("bytes */"))throw Error("Missing content-length on 416 response");const t=+e.substr(8);i=yield fetch(this.url,{signal:n,headers:{Range:"bytes=0-"+(t-1)}})}if(i.status>=300)throw Error("Bad response code: "+i.status);const o=i.headers.get("Content-Length");if(200===i.status&&(!o||+o>t))throw r&&r.abort(),Error("Server returned no content-length header or content-length exceeding request. Check that your storage backend supports HTTP Byte Serving.");return{data:yield i.arrayBuffer(),etag:i.headers.get("ETag")||void 0,cacheControl:i.headers.get("Cache-Control")||void 0,expires:i.headers.get("Expires")||void 0}}))}}(e):e,this.decompress=n||ze,this.cache=t||new class{constructor(e=100,t=!0,n=ze){this.cache=new Map,this.maxCacheEntries=e,this.counter=1,this.prefetch=t,this.decompress=n}getHeader(e,t){return E(this,null,(function*(){const n=e.getKey();if(this.cache.has(n))return this.cache.get(n).lastUsed=this.counter++,yield this.cache.get(n).data;const r=new Promise(((n,r)=>{Fe(e,this.decompress,this.prefetch,t).then((e=>{e[1]&&this.cache.set(e[1][0],{lastUsed:this.counter++,data:Promise.resolve(e[1][2])}),n(e[0]),this.prune()})).catch((e=>{r(e)}))}));return this.cache.set(n,{lastUsed:this.counter++,data:r}),r}))}getDirectory(e,t,n,r){return E(this,null,(function*(){const i=e.getKey()+"|"+(r.etag||"")+"|"+t+"|"+n;if(this.cache.has(i))return this.cache.get(i).lastUsed=this.counter++,yield this.cache.get(i).data;const o=new Promise(((i,o)=>{(function(e,t,n,r,i){return E(this,null,(function*(){const o=yield e.getBytes(n,r);if(i.etag&&i.etag!==o.etag)throw new Se(o.etag);const u=Me(yield t(o.data,i.internalCompression));if(0===u.length)throw new Error("Empty directory is invalid");return u}))})(e,this.decompress,t,n,r).then((e=>{i(e),this.prune()})).catch((e=>{o(e)}))}));return this.cache.set(i,{lastUsed:this.counter++,data:o}),o}))}getArrayBuffer(e,t,n,r){return E(this,null,(function*(){const i=e.getKey()+"|"+(r.etag||"")+"|"+t+"|"+n;if(this.cache.has(i))return this.cache.get(i).lastUsed=this.counter++,yield this.cache.get(i).data;const o=new Promise(((o,u)=>{e.getBytes(t,n).then((e=>{if(r.etag&&r.etag!==e.etag)throw new Se(e.etag);o(e.data),this.cache.has(i),this.prune()})).catch((e=>{u(e)}))}));return this.cache.set(i,{lastUsed:this.counter++,data:o}),o}))}prune(){if(this.cache.size>=this.maxCacheEntries){let e,t=1/0;this.cache.forEach(((n,r)=>{n.lastUsed<t&&(t=n.lastUsed,e=r)})),e&&this.cache.delete(e)}}invalidate(e,t){return E(this,null,(function*(){this.cache.delete(e.getKey()),yield this.getHeader(e,t)}))}}}getHeader(){return E(this,null,(function*(){return yield this.cache.getHeader(this.source)}))}getZxyAttempt(e,t,n,r){return E(this,null,(function*(){const i=function(e,t,n){if(e>26)throw Error("Tile zoom level exceeds max safe number limit (26)");if(t>Math.pow(2,e)-1||n>Math.pow(2,e)-1)throw Error("tile x/y outside zoom level bounds");let r=0,i=0;for(;i<e;)r+=Math.pow(2,i)*Math.pow(2,i),i++;let o=0,u=0,d=0;const s=[t,n];let a=Math.pow(2,e)/2;for(;a>0;)o=(s[0]&a)>0?1:0,u=(s[1]&a)>0?1:0,d+=a*a*(3*o^u),ke(a,s,o,u),a/=2;return r+d}(e,t,n),o=yield this.cache.getHeader(this.source);if(o.specVersion<3)return xe.getZxy(o,this.source,this.cache,e,t,n,r);if(e<o.minZoom||e>o.maxZoom)return;let u=o.rootDirectoryOffset,d=o.rootDirectoryLength;for(let e=0;e<=3;e++){const e=Le(yield this.cache.getDirectory(this.source,u,d,o),i);if(!e)return;if(e.runLength>0){const t=yield this.source.getBytes(o.tileDataOffset+e.offset,e.length,r);if(o.etag&&o.etag!==t.etag)throw new Se(t.etag);return{data:yield this.decompress(t.data,o.tileCompression),cacheControl:t.cacheControl,expires:t.expires}}u=o.leafDirectoryOffset+e.offset,d=e.length}throw Error("Maximum directory depth exceeded")}))}getZxy(e,t,n,r){return E(this,null,(function*(){try{return yield this.getZxyAttempt(e,t,n,r)}catch(Xn){if(Xn instanceof Se)return this.cache.invalidate(this.source,Xn.message),yield this.getZxyAttempt(e,t,n,r);throw Xn}}))}getMetadataAttempt(){return E(this,null,(function*(){const e=yield this.cache.getHeader(this.source),t=yield this.source.getBytes(e.jsonMetadataOffset,e.jsonMetadataLength);if(e.etag&&e.etag!==t.etag)throw new Se(t.etag);const n=yield this.decompress(t.data,e.internalCompression),r=new TextDecoder("utf-8");return JSON.parse(r.decode(n))}))}getMetadata(){return E(this,null,(function*(){try{return yield this.getMetadataAttempt()}catch(Xn){if(Xn instanceof Se)return this.cache.invalidate(this.source,Xn.message),yield this.getMetadataAttempt();throw Xn}}))}};function De(e){return e.x+":"+e.y+":"+e.z}(Ee=Ce||(Ce={}))[Ee.Point=1]="Point",Ee[Ee.Line=2]="Line",Ee[Ee.Polygon=3]="Polygon";var Oe=(e,t,n)=>{e.pos=t;for(var r=e.readVarint()+e.pos,i=1,o=0,u=0,d=0,s=1/0,a=-1/0,l=1/0,f=-1/0,c=[],h=[];e.pos<r;){if(o<=0){var p=e.readVarint();i=7&p,o=p>>3}if(o--,1===i||2===i)(u+=e.readSVarint()*n)<s&&(s=u),u>a&&(a=u),(d+=e.readSVarint()*n)<l&&(l=d),d>f&&(f=d),1===i&&(h.length>0&&c.push(h),h=[]),h.push(new S.default(u,d));else{if(7!==i)throw new Error("unknown command "+i);h&&h.push(h[0].clone())}}return h&&c.push(h),{geom:c,bbox:{minX:s,minY:l,maxX:a,maxY:f}}};function Pe(e,t){let n=new F.VectorTile(new C.default(e)),r=new Map;for(let[i,o]of Object.entries(n.layers)){let e=[],n=o;for(let r=0;r<n.length;r++){let i=Oe(n.feature(r)._pbf,n.feature(r)._geometry,t/n.extent),o=0;for(let e of i.geom)o+=e.length;e.push({id:n.feature(r).id,geomType:n.feature(r).type,geom:i.geom,numVertices:o,bbox:i.bbox,props:n.feature(r).properties})}r.set(i,e)}return r}var Be=class{constructor(e,t){this.p="string"==typeof e?new Ze(e):e,this.controllers=[],this.shouldCancelZooms=t}get(e,t){return p(this,null,(function*(){this.shouldCancelZooms&&(this.controllers=this.controllers.filter((t=>t[0]==e.z||(t[1].abort(),!1))));const n=new AbortController;this.controllers.push([e.z,n]);const r=n.signal;let i=yield this.p.getZxy(e.z,e.x,e.y,r);return i?Pe(i.data,t):new Map}))}},Ae=class{constructor(e,t){this.url=e,this.controllers=[],this.shouldCancelZooms=t}get(e,t){return p(this,null,(function*(){this.shouldCancelZooms&&(this.controllers=this.controllers.filter((t=>t[0]==e.z||(t[1].abort(),!1))));let n=this.url.replace("{z}",e.z.toString()).replace("{x}",e.x.toString()).replace("{y}",e.y.toString());const r=new AbortController;this.controllers.push([e.z,r]);const i=r.signal;return new Promise(((e,r)=>{fetch(n,{signal:i}).then((e=>e.arrayBuffer())).then((n=>{let r=Pe(n,t);e(r)})).catch((e=>{r(e)}))}))}))}},Ie=6378137,Ye=85.0511287798,Xe=Ie*Math.PI;function Ve(e){return e*e}function Ne(e,t){return Ve(e.x-t.x)+Ve(e.y-t.y)}function Re(e,t,n){var r=Ne(t,n);if(0===r)return Ne(e,t);var i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return i=Math.max(0,Math.min(1,i)),Ne(e,new S.default(t.x+i*(n.x-t.x),t.y+i*(n.y-t.y)))}function Ue(e,t){for(var n=!1,r=0,i=t.length-1;r<t.length;i=r++){var o=t[r].x,u=t[r].y,d=t[i].x,s=t[i].y;u>e.y!=s>e.y&&e.x<(d-o)*(e.y-u)/(s-u)+o&&(n=!n)}return n}function qe(e){for(var t=0,n=0;n<e.length;n++){let r=(n+1)%e.length;t+=e[n].x*e[r].y,t-=e[r].x*e[n].y}return t<0}function We(e,t){var n=!1;for(let r of t)if(qe(r))Ue(e,r)&&(n=!1);else{if(n)return!0;Ue(e,r)&&(n=!0)}return n}function $e(e,t){let n=1/0;for(let r of t){let t=Math.sqrt(Ne(e,r[0]));t<n&&(n=t)}return n}function He(e,t){let n=1/0;for(let i of t)for(var r=0;r<i.length-1;r++){let t=Math.sqrt(Re(e,i[r],i[r+1]));t<n&&(n=t)}return n}var Ke=class{constructor(e,t){this.source=e,this.cache=new Map,this.inflight=new Map,this.tileSize=t}queryFeatures(e,t,n,r){let i=(e=>{let t=Math.PI/180,n=Math.max(Math.min(Ye,e[0]),-Ye),r=Math.sin(n*t);return new S.default(Ie*e[1]*t,Ie*Math.log((1+r)/(1-r))/2)})([t,e]);var o=new S.default((i.x+Xe)/(2*Xe),1-(i.y+Xe)/(2*Xe));o.x>1&&(o.x=o.x-Math.floor(o.x));let u=o.mult(1<<n),d=Math.floor(u.x),s=Math.floor(u.y);const a=De({z:n,x:d,y:s});let l=[],f=this.cache.get(a);if(f){const e=new S.default((u.x-d)*this.tileSize,(u.y-s)*this.tileSize);for(let[t,n]of f.data.entries())for(let i of n)1==i.geomType?$e(e,i.geom)<r&&l.push({feature:i,layerName:t}):2==i.geomType?He(e,i.geom)<r&&l.push({feature:i,layerName:t}):We(e,i.geom)&&l.push({feature:i,layerName:t})}return l}get(e){return p(this,null,(function*(){const t=De(e);return new Promise(((n,r)=>{let i=this.cache.get(t);if(i)i.used=performance.now(),n(i.data);else{let i=this.inflight.get(t);i?i.push([n,r]):(this.inflight.set(t,[]),this.source.get(e,this.tileSize).then((e=>{this.cache.set(t,{used:performance.now(),data:e});let r=this.inflight.get(t);if(r&&r.forEach((t=>t[0](e))),this.inflight.delete(t),n(e),this.cache.size>=64){let e,t=1/0;this.cache.forEach(((n,r)=>{n.used<t&&(t=n.used,e=r)})),e&&this.cache.delete(e)}})).catch((e=>{let n=this.inflight.get(t);n&&n.forEach((t=>t[1](e))),this.inflight.delete(t),r(e)})))}}))}))}},Ge=(e,t,n)=>{let r=[];for(let i of e){let e=[];for(let r of i)e.push(r.clone().mult(t).add(n));r.push(e)}return r},Je=(e,t)=>{let n=1<<t;return e<0&&(e=n+e),e>=n&&(e%=n),e},Qe=class{constructor(e,t,n){this.tileCache=e,this.maxDataLevel=t,this.levelDiff=n}dataTilesForBounds(e,t){let n=Math.pow(2,e)/Math.pow(2,Math.ceil(e)),r=[];var i=1,o=this.tileCache.tileSize;if(e<this.levelDiff)i=1/(1<<this.levelDiff-e)*n,r.push({data_tile:{z:0,x:0,y:0},origin:new M.default(0,0),scale:i,dim:o*i});else if(e<=this.levelDiff+this.maxDataLevel){let i=1<<this.levelDiff,s=256*n,a=Math.ceil(e)-this.levelDiff,l=Math.floor(t.minX/i/s),f=Math.floor(t.minY/i/s),c=Math.floor(t.maxX/i/s),h=Math.floor(t.maxY/i/s);for(var u=l;u<=c;u++)for(var d=f;d<=h;d++){let e=new M.default(u*i*s,d*i*s);r.push({data_tile:{z:a,x:Je(u,a),y:Je(d,a)},origin:e,scale:n,dim:o*n})}}else{let s=1<<this.levelDiff;i=(1<<Math.ceil(e)-this.maxDataLevel-this.levelDiff)*n;let a=Math.floor(t.minX/s/256/i),l=Math.floor(t.minY/s/256/i),f=Math.floor(t.maxX/s/256/i),c=Math.floor(t.maxY/s/256/i);for(u=a;u<=f;u++)for(d=l;d<=c;d++){let e=new M.default(u*s*256*i,d*s*256*i);r.push({data_tile:{z:this.maxDataLevel,x:Je(u,this.maxDataLevel),y:Je(d,this.maxDataLevel)},origin:e,scale:i,dim:o*i})}}return r}dataTileForDisplayTile(e){var t,n,r=1,i=this.tileCache.tileSize;if(e.z<this.levelDiff)t={z:0,x:0,y:0},r=1/(1<<this.levelDiff-e.z),n=new M.default(0,0),i*=r;else if(e.z<=this.levelDiff+this.maxDataLevel){let r=1<<this.levelDiff;t={z:e.z-this.levelDiff,x:Math.floor(e.x/r),y:Math.floor(e.y/r)},n=new M.default(t.x*r*256,t.y*r*256)}else{r=1<<e.z-this.maxDataLevel-this.levelDiff;let o=1<<this.levelDiff;t={z:this.maxDataLevel,x:Math.floor(e.x/o/r),y:Math.floor(e.y/o/r)},n=new M.default(t.x*o*r*256,t.y*o*r*256),i*=r}return{data_tile:t,scale:r,origin:n,dim:i}}getBbox(e,t){return p(this,null,(function*(){let n=this.dataTilesForBounds(e,t);return(yield Promise.all(n.map((e=>this.tileCache.get(e.data_tile))))).map(((t,r)=>{let i=n[r];return{data:t,z:e,data_tile:i.data_tile,scale:i.scale,dim:i.dim,origin:i.origin}}))}))}getDisplayTile(e){return p(this,null,(function*(){let t=this.dataTileForDisplayTile(e);return{data:yield this.tileCache.get(t.data_tile),z:e.z,data_tile:t.data_tile,scale:t.scale,origin:t.origin,dim:t.dim}}))}queryFeatures(e,t,n){let r=Math.round(n),i=Math.min(r-this.levelDiff,this.maxDataLevel),o=16/(1<<r-i);return this.tileCache.queryFeatures(e,t,i,o)}},et=e=>{let t=e=>{let t,n=void 0===e.levelDiff?2:e.levelDiff,r=e.maxDataZoom||14;t="string"===typeof e.url?e.url.endsWith(".pmtiles")?new Be(e.url,!0):new Ae(e.url,!0):new Be(e.url,!0);let i=new Ke(t,256<<n);return new Qe(i,r,n)},n=new Map;if(e.sources)for(const r in e.sources)n.set(r,t(e.sources[r]));else n.set("",t(e));return n},tt=h(m());function nt(e,t,n,r,i,o,u,d,s){let a=performance.now();for(var l of(e.save(),e.miterLimit=2,i)){if(l.minzoom&&t<l.minzoom)continue;if(l.maxzoom&&t>l.maxzoom)continue;let r=n.get(l.dataSource||"");if(r)for(let t of r){var f=t.data.get(l.dataLayer);if(void 0===f)continue;l.symbolizer.before&&l.symbolizer.before(e,t.z);let n=t.origin,r=t.dim,i=t.scale;if(e.save(),d){e.beginPath();let t=Math.max(n.x-u.x,o.minX-u.x),i=Math.max(n.y-u.y,o.minY-u.y),d=Math.min(n.x-u.x+r,o.maxX-u.x),s=Math.min(n.y-u.y+r,o.maxY-u.y);e.rect(t,i,d-t,s-i),e.clip()}for(var c of(e.translate(n.x-u.x,n.y-u.y),f)){let r=c.geom,u=c.bbox;u.maxX*i+n.x<o.minX||u.minX*i+n.x>o.maxX||u.minY*i+n.y>o.maxY||u.maxY*i+n.y<o.minY||(l.filter&&!l.filter(t.z,c)||(1!=i&&(r=Ge(r,i,new tt.default(0,0))),l.symbolizer.draw(e,r,t.z,c)))}e.restore()}}if(d&&(e.beginPath(),e.rect(o.minX-u.x,o.minY-u.y,o.maxX-o.minX,o.maxY-o.minY),e.clip()),r){let t=r.searchBbox(o,1/0);for(var h of t)if(e.save(),e.translate(h.anchor.x-u.x,h.anchor.y-u.y),h.draw(e),e.restore(),s){e.lineWidth=.5,e.strokeStyle=s,e.fillStyle=s,e.globalAlpha=1,e.fillRect(h.anchor.x-u.x-2,h.anchor.y-u.y-2,4,4);for(let t of h.bboxes)e.strokeRect(t.minX-u.x,t.minY-u.y,t.maxX-t.minX,t.maxY-t.minY)}}return e.restore(),performance.now()-a}var rt=h(m()),it=h(_()),ot=(e,t,n)=>{let r=256,i=t/r,o=Math.floor(n.minX/r),u=Math.floor(n.minY/r),d=Math.floor(n.maxX/r),s=Math.floor(n.maxY/r),a=Math.log2(i),l=[];for(let f=o;f<=d;f++){let t=f%(1<<e);for(let n=u;n<=s;n++)l.push({display:De({z:e,x:t,y:n}),key:De({z:e-a,x:Math.floor(t/i),y:Math.floor(n/i)})})}return l},ut=class{constructor(e,t){this.tree=new it.default,this.current=new Map,this.dim=e,this.maxLabeledTiles=t}hasPrefix(e){for(let t of this.current.keys())if(t.startsWith(e))return!0;return!1}has(e){return this.current.has(e)}size(){return this.current.size}keys(){return this.current.keys()}searchBbox(e,t){let n=new Set;for(let r of this.tree.search(e))r.indexed_label.order<=t&&n.add(r.indexed_label);return n}searchLabel(e,t){let n=new Set;for(let r of e.bboxes)for(let e of this.tree.search(r))e.indexed_label.order<=t&&n.add(e.indexed_label);return n}bboxCollides(e,t){for(let n of this.tree.search(e))if(n.indexed_label.order<=t)return!0;return!1}labelCollides(e,t){for(let n of e.bboxes)for(let e of this.tree.search(n))if(e.indexed_label.order<=t)return!0;return!1}deduplicationCollides(e){if(!e.deduplicationKey||!e.deduplicationDistance)return!1;let t=e.deduplicationDistance,n={minX:e.anchor.x-t,minY:e.anchor.y-t,maxX:e.anchor.x+t,maxY:e.anchor.y+t};for(let r of this.tree.search(n))if(r.indexed_label.deduplicationKey===e.deduplicationKey&&r.indexed_label.anchor.dist(e.anchor)<t)return!0;return!1}makeEntry(e){this.current.get(e)&&console.log("consistency error 1");let t=new Set;this.current.set(e,t)}insert(e,t,n){let r={anchor:e.anchor,bboxes:e.bboxes,draw:e.draw,order:t,tileKey:n,deduplicationKey:e.deduplicationKey,deduplicationDistance:e.deduplicationDistance},i=this.current.get(n);if(!i){let e=new Set;this.current.set(n,e),i=e}i.add(r);var o=!1,u=!1;for(let l of e.bboxes){(a=l).indexed_label=r,this.tree.insert(a),l.minX<0&&(o=!0),l.maxX>this.dim&&(u=!0)}if(o||u){var d=o?this.dim:-this.dim,s=[];for(let t of e.bboxes)s.push({minX:t.minX+d,minY:t.minY,maxX:t.maxX+d,maxY:t.maxY});let r={anchor:new rt.default(e.anchor.x+d,e.anchor.y),bboxes:s,draw:e.draw,order:t,tileKey:n},i=this.current.get(n);i&&i.add(r);for(let e of s){var a;(a=e).indexed_label=r,this.tree.insert(a)}}}pruneOrNoop(e){let t,n=e.split(":"),r=0,i=0;for(var o of this.current.keys()){let e=o.split(":");if(e[3]===n[3]){i++;let u=Math.sqrt(Math.pow(+e[0]-+n[0],2)+Math.pow(+e[1]-+n[1],2));u>r&&(r=u,t=o)}t&&i>this.maxLabeledTiles&&this.pruneKey(t)}}pruneKey(e){let t=this.current.get(e);if(!t)return;let n=[];for(let r of this.tree.all())t.has(r.indexed_label)&&n.push(r);n.forEach((e=>{this.tree.remove(e)})),this.current.delete(e)}removeLabel(e){let t=[];for(let r of this.tree.all())e==r.indexed_label&&t.push(r);t.forEach((e=>{this.tree.remove(e)}));let n=this.current.get(e.tileKey);n&&n.delete(e)}},dt=class{constructor(e,t,n,r,i){this.index=new ut(256<<e,r),this.z=e,this.scratch=t,this.labelRules=n,this.callback=i}layout(e){let t=performance.now(),n=new Set;for(let[u,d]of e)for(let e of d){let t=De(e.data_tile)+":"+u;this.index.has(t)||(this.index.makeEntry(t),n.add(t))}let r=new Set;for(let[u,d]of this.labelRules.entries()){if(0==d.visible)continue;if(d.minzoom&&this.z<d.minzoom)continue;if(d.maxzoom&&this.z>d.maxzoom)continue;let t=d.dataSource||"",o=e.get(t);if(o)for(let e of o){let o=De(e.data_tile)+":"+t;if(!n.has(o))continue;let s=e.data.get(d.dataLayer);if(void 0===s)continue;let a=s;d.sort&&a.sort(((e,t)=>d.sort?d.sort(e.props,t.props):0));let l={index:this.index,zoom:this.z,scratch:this.scratch,order:u,overzoom:this.z-e.data_tile.z};for(let t of a){if(d.filter&&!d.filter(this.z,t))continue;let n=Ge(t.geom,e.scale,e.origin),s=d.symbolizer.place(l,n,t);if(s)for(let t of s){var i=!1;if(!t.deduplicationKey||!this.index.deduplicationCollides(t)){if(this.index.labelCollides(t,1/0)){if(!this.index.labelCollides(t,u)){let n=this.index.searchLabel(t,1/0);for(let t of n){this.index.removeLabel(t);for(let n of t.bboxes)this.findInvalidatedTiles(r,e.dim,n,o)}this.index.insert(t,u,o),i=!0}}else this.index.insert(t,u,o),i=!0;if(i)for(let n of t.bboxes)(n.maxX>e.origin.x+e.dim||n.minX<e.origin.x||n.minY<e.origin.y||n.maxY>e.origin.y+e.dim)&&this.findInvalidatedTiles(r,e.dim,n,o)}}}}}for(var o of n)this.index.pruneOrNoop(o);return r.size>0&&this.callback&&this.callback(r),performance.now()-t}findInvalidatedTiles(e,t,n,r){let i=ot(this.z,t,n);for(let o of i)o.key!=r&&this.index.hasPrefix(o.key)&&e.add(o.display)}add(e){var t=!0;for(let[n,r]of e)for(let e of r)this.index.has(De(e.data_tile)+":"+n)||(t=!1);if(t)return 0;return this.layout(e)}},st=class{constructor(e,t,n,r){this.labelers=new Map,this.scratch=e,this.labelRules=t,this.maxLabeledTiles=n,this.callback=r}add(e,t){var n=this.labelers.get(e);return n||(n=new dt(e,this.scratch,this.labelRules,this.maxLabeledTiles,this.callback),this.labelers.set(e,n)),n.add(t)}getIndex(e){let t=this.labelers.get(e);if(t)return t.index}},at={earth:"#FFFBF6",glacier:"#ffffff",residential:"#F4F4F8",hospital:"#FFF6F6",cemetery:"#EFF2EE",school:"#F7F6FF",industrial:"#FFF9EF",wood:"#F4F9EF",grass:"#EBF9E3",park:"#E5F9D5",water:"#B7DFF2",sand:"#ebebeb",buildings:"#F2EDE8",highwayCasing:"#FFC3C3",majorRoadCasing:"#FFB9B9",mediumRoadCasing:"#FFCE8E",minorRoadCasing:"#cccccc",highway:"#FFCEBB",majorRoad:"#FFE4B3",mediumRoad:"#FFF2C8",minorRoad:"#ffffff",boundaries:"#9e9e9e",mask:"#dddddd",countryLabel:"#aaaaaa",cityLabel:"#6C6C6C",stateLabel:"#999999",neighbourhoodLabel:"#888888",landuseLabel:"#898989",waterLabel:"#41ABDC",naturalLabel:"#4B8F14",roadsLabel:"#888888",poisLabel:"#606060"},lt={earth:"#151515",glacier:"#1c1c1c",residential:"#252B2F",hospital:"#3E2C2C",cemetery:"#36483D",school:"#2C3440",industrial:"#33312C",wood:"#3A3E38",grass:"#4E604D",park:"#2C4034",water:"#4D5B73",sand:"#777777",buildings:"#464545",highwayCasing:"#000000",majorRoadCasing:"#1C1B1B",mediumRoadCasing:"#3E3E3E",minorRoadCasing:"#000000",highway:"#5B5B5B",majorRoad:"#595959",mediumRoad:"#4F4F4F",minorRoad:"#393939",boundaries:"#666666",mask:"#dddddd",countryLabel:"#ffffff",cityLabel:"#FFFFFF",stateLabel:"#ffffff",neighbourhoodLabel:"#FDFDFD",landuseLabel:"#DDDDDD",waterLabel:"#707E95",naturalLabel:"#4c4c4c",roadsLabel:"#C4C4C4",poisLabel:"#959393"};function ft(e,t,n){return Math.min(Math.max(e,n),t)}var ct=class extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}};var ht=e=>parseInt(e.replace(/_/g,""),36),pt="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce(((e,t)=>{const n=ht(t.substring(0,3)),r=ht(t.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return e[n]=`${i}${r}`,e}),{}),mt=(e,t)=>Array.from(Array(t)).map((()=>e)).join(""),yt=new RegExp(`^#${mt("([a-f0-9])",3)}([a-f0-9])?$`,"i"),bt=new RegExp(`^#${mt("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),gt=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${mt(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),vt=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,wt=/^[a-z]+$/i,xt=e=>Math.round(255*e),_t=(e,t,n)=>{let r=n/100;if(0===t)return[r,r,r].map(xt);const i=(e%360+360)%360/60,o=(1-Math.abs(2*r-1))*(t/100),u=o*(1-Math.abs(i%2-1));let d=0,s=0,a=0;i>=0&&i<1?(d=o,s=u):i>=1&&i<2?(d=u,s=o):i>=2&&i<3?(s=o,a=u):i>=3&&i<4?(s=u,a=o):i>=4&&i<5?(d=u,a=o):i>=5&&i<6&&(d=o,a=u);const l=r-o/2;return[d+l,s+l,a+l].map(xt)};function jt(e){const[t,n,r,i]=function(e){if("string"!=typeof e)throw new ct(e);if("transparent"===e.trim().toLowerCase())return[0,0,0,0];let t=e.trim();t=wt.test(e)?function(e){const t=e.toLowerCase().trim(),n=pt[function(e){let t=5381,n=e.length;for(;n;)t=33*t^e.charCodeAt(--n);return(t>>>0)%2341}(t)];if(!n)throw new ct(e);return`#${n}`}(e):e;const n=yt.exec(t);if(n){const e=Array.from(n).slice(1);return[...e.slice(0,3).map((e=>parseInt(mt(e,2),16))),parseInt(mt(e[3]||"f",2),16)/255]}const r=bt.exec(t);if(r){const e=Array.from(r).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,16))),parseInt(e[3]||"ff",16)/255]}const i=gt.exec(t);if(i){const e=Array.from(i).slice(1);return[...e.slice(0,3).map((e=>parseInt(e,10))),parseFloat(e[3]||"1")]}const o=vt.exec(t);if(o){const[t,n,r,i]=Array.from(o).slice(1).map(parseFloat);if(ft(0,100,n)!==n)throw new ct(e);if(ft(0,100,r)!==r)throw new ct(e);return[..._t(t,n,r),i||1]}throw new ct(e)}(e).map(((e,t)=>3===t?e:e/255)),o=Math.max(t,n,r),u=Math.min(t,n,r),d=(o+u)/2;if(o===u)return[0,0,d,i];const s=o-u;return[60*(t===o?(n-r)/s+(n<r?6:0):n===o?(r-t)/s+2:(t-n)/s+4),d>.5?s/(2-o-u):s/(o+u),d,i]}function kt(e,t,n,r){return`hsla(${(e%360).toFixed()}, ${ft(0,100,100*t).toFixed()}%, ${ft(0,100,100*n).toFixed()}%, ${parseFloat(ft(0,1,r).toFixed(3))})`}var zt=h(m()),Lt=h(j()),Tt=h(z()),Mt=class{constructor(e,t){this.str=null!=e?e:t,this.per_feature="function"==typeof this.str&&2==this.str.length}get(e,t){return"function"===typeof this.str?this.str(e,t):this.str}},St=class{constructor(e,t=1){this.value=null!=e?e:t,this.per_feature="function"==typeof this.value&&2==this.value.length}get(e,t){return"function"==typeof this.value?this.value(e,t):this.value}},Ft=class{constructor(e){var t;this.label_props=null!=(t=null==e?void 0:e.label_props)?t:["name"],this.textTransform=null==e?void 0:e.textTransform}get(e,t){let n,r,i;r="function"==typeof this.label_props?this.label_props(e,t):this.label_props;for(let o of r)if(t.props.hasOwnProperty(o)&&"string"===typeof t.props[o]){n=t.props[o];break}if(i="function"===typeof this.textTransform?this.textTransform(e,t):this.textTransform,n&&"uppercase"===i)n=n.toUpperCase();else if(n&&"lowercase"===i)n=n.toLowerCase();else if(n&&"capitalize"===i){const e=n.toLowerCase().split(" ");n=e.map((e=>e[0].toUpperCase()+e.slice(1))).join(" ")}return n}},Ct=class{constructor(e){var t,n;(null==e?void 0:e.font)?this.font=e.font:(this.family=null!=(t=null==e?void 0:e.fontFamily)?t:"sans-serif",this.size=null!=(n=null==e?void 0:e.fontSize)?n:12,this.weight=null==e?void 0:e.fontWeight,this.style=null==e?void 0:e.fontStyle)}get(e,t){if(this.font)return"function"===typeof this.font?this.font(e,t):this.font;var n="";this.style&&(n="function"===typeof this.style?this.style(e,t)+" ":this.style+" ");var r="";return this.weight&&(r="function"===typeof this.weight?this.weight(e,t)+" ":this.weight+" "),`${n}${r}${"function"===typeof this.size?this.size(e,t):this.size}px ${"function"===typeof this.family?this.family(e,t):this.family}`}},Et=h(m()),Zt=(e,t,n)=>{var r,i,o,u,d=[],s=0,a=0,l=0,f=0,c=0,h=0,p=0,m=0,y=0,b=0;if(e.length<2)return[];if(2===e.length)return[{length:a=Math.sqrt(Math.pow(e[1].x-e[0].x,2)+Math.pow(e[1].y-e[0].y,2)),beginIndex:0,beginDistance:0,endIndex:2,endDistance:a}];for(l=Math.sqrt(Math.pow(e[1].x-e[0].x,2)+Math.pow(e[1].y-e[0].y,2)),s=1,u=e.length-1;s<u;s++)r=e[s-1],i=e[s],o=e[s+1],c=i.x-r.x,h=i.y-r.y,p=o.x-i.x,m=o.y-i.y,f=Math.sqrt(p*p+m*m),a+=l,(Math.acos((c*p+h*m)/(l*f))>t||a-b>n)&&(d.push({length:a-b,beginDistance:b,beginIndex:y,endIndex:s+1,endDistance:a}),y=s,b=a),l=f;return s-y>0&&d.push({length:a-b+f,beginIndex:y,beginDistance:b,endIndex:s+1,endDistance:a+f}),d};function Dt(e,t,n,r){let i=t.x-e.x,o=t.y-e.y,u=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),d=[];for(var s=0;s<n+r;s+=2*r){let t=1*s/u;d.push({x:e.x+t*i,y:e.y+t*o})}return d}function Ot(e,t){if(e.length<=t)return[e];let n,r,i=t-1,o=e.lastIndexOf(" ",i),u=e.indexOf(" ",i);return-1==o&&-1==u?[e]:(-1==u||o>=0&&i-o<u-i?(n=e.substring(0,o),r=e.substring(o+1,e.length)):(n=e.substring(0,u),r=e.substring(u+1,e.length)),[n,...Ot(r,t)])}var Pt,Bt,At,It;new RegExp("^[\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\u3400-\u4db5\u4e00-\u9fea\uf900-\ufa6d\ufa70-\ufad9\u2000]+$");(Bt=Pt||(Pt={}))[Bt.Left=1]="Left",Bt[Bt.Center=2]="Center",Bt[Bt.Right=3]="Right",(It=At||(At={}))[It.N=1]="N",It[It.NE=2]="NE",It[It.E=3]="E",It[It.SE=4]="SE",It[It.S=5]="S",It[It.SW=6]="SW",It[It.W=7]="W",It[It.NW=8]="NW";var Yt=(e,t,n)=>{const r=document.createElement("canvas"),i=r.getContext("2d");return r.width=e,r.height=t,null!==i&&n(r,i),r},Xt=class{constructor(e){var t;this.pattern=e.pattern,this.fill=new Mt(e.fill,"black"),this.opacity=new St(e.opacity,1),this.stroke=new Mt(e.stroke,"black"),this.width=new St(e.width,0),this.per_feature=null!=(t=this.fill.per_feature||this.opacity.per_feature||this.stroke.per_feature||this.width.per_feature||e.per_feature)&&t,this.do_stroke=!1}before(e,t){if(!this.per_feature){e.globalAlpha=this.opacity.get(t),e.fillStyle=this.fill.get(t),e.strokeStyle=this.stroke.get(t);let n=this.width.get(t);n>0&&(this.do_stroke=!0),e.lineWidth=n}if(this.pattern){const t=e.createPattern(this.pattern,"repeat");t&&(e.fillStyle=t)}}draw(e,t,n,r){var i=!1;if(this.per_feature){e.globalAlpha=this.opacity.get(n,r),e.fillStyle=this.fill.get(n,r);var o=this.width.get(n,r);o&&(i=!0,e.strokeStyle=this.stroke.get(n,r),e.lineWidth=o)}let u=()=>{e.fill(),(i||this.do_stroke)&&e.stroke()};var d=0;for(var s of(e.beginPath(),t)){d+s.length>5400&&(u(),d=0,e.beginPath());for(var a=0;a<s.length;a++){let t=s[a];0==a?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}d+=s.length}d>0&&u()}};function Vt(e,t){return n=>{let r=n-e;return r>=0&&r<t.length?t[r]:0}}function Nt(e,t){let n=0;for(;t[n+1][0]<e;)n++;return n}function Rt(e,t,n){return e*(n-t)+t}function Ut(e,t,n,r){const i=r[t+1][0]-r[t][0],o=e-r[t][0];return 0===i?0:1===n?o/i:(Math.pow(n,o)-1)/(Math.pow(n,i)-1)}function qt(e,t){return n=>{if(t.length<1)return 0;if(n<=t[0][0])return t[0][1];if(n>=t[t.length-1][0])return t[t.length-1][1];const r=Nt(n,t);return Rt(Ut(n,r,e,t),t[r][1],t[r+1][1])}}function Wt(e,t){return n=>{if(t.length<1)return 0;let r=e;for(let e=0;e<t.length;e++)n>=t[e][0]&&(r=t[e][1]);return r}}function $t(e){return qt(1,e)}function Ht(e,t,n,r,i){return o=>{if(i.length<1)return 0;const u=new Lt.default(e,t,n,r),d=Nt(o,i);return Rt(u.solve(Ut(o,d,1,i)),i[d][1],i[d+1][1])}}var Kt,Gt,Jt=class{constructor(e){var t;this.color=new Mt(e.color,"black"),this.width=new St(e.width),this.opacity=new St(e.opacity),this.dash=e.dash?new class{constructor(e,t=[]){this.value=null!=e?e:t,this.per_feature="function"==typeof this.value&&2==this.value.length}get(e,t){return"function"==typeof this.value?this.value(e,t):this.value}}(e.dash):null,this.dashColor=new Mt(e.dashColor,"black"),this.dashWidth=new St(e.dashWidth,1),this.lineCap=new Mt(e.lineCap,"butt"),this.lineJoin=new Mt(e.lineJoin,"miter"),this.skip=!1,this.per_feature=!!((null==(t=this.dash)?void 0:t.per_feature)||this.color.per_feature||this.opacity.per_feature||this.width.per_feature||this.lineCap.per_feature||this.lineJoin.per_feature||e.per_feature)}before(e,t){this.per_feature||(e.strokeStyle=this.color.get(t),e.lineWidth=this.width.get(t),e.globalAlpha=this.opacity.get(t),e.lineCap=this.lineCap.get(t),e.lineJoin=this.lineJoin.get(t))}draw(e,t,n,r){if(this.skip)return;let i=()=>{this.per_feature&&(e.globalAlpha=this.opacity.get(n,r),e.lineCap=this.lineCap.get(n,r),e.lineJoin=this.lineJoin.get(n,r)),this.dash?(e.save(),this.per_feature?(e.lineWidth=this.dashWidth.get(n,r),e.strokeStyle=this.dashColor.get(n,r),e.setLineDash(this.dash.get(n,r))):e.setLineDash(this.dash.get(n)),e.stroke(),e.restore()):(e.save(),this.per_feature&&(e.lineWidth=this.width.get(n,r),e.strokeStyle=this.color.get(n,r)),e.stroke(),e.restore())};var o=0;for(var u of(e.beginPath(),t)){o+u.length>5400&&(i(),o=0,e.beginPath());for(var d=0;d<u.length;d++){let t=u[d];0==d?e.moveTo(t.x,t.y):e.lineTo(t.x,t.y)}o+=u.length}o>0&&i()}},Qt=class{constructor(e){this.name=e.name,this.sheet=e.sheet,this.dpr=window.devicePixelRatio}place(e,t,n){t[0];let r=new zt.default(t[0][0].x,t[0][0].y),i=this.sheet.get(this.name),o=i.w/this.dpr,u=i.h/this.dpr;return[{anchor:r,bboxes:[{minX:r.x-o/2,minY:r.y-u/2,maxX:r.x+o/2,maxY:r.y+u/2}],draw:e=>{e.globalAlpha=1,e.drawImage(this.sheet.canvas,i.x,i.y,i.w,i.h,-i.w/2/this.dpr,-i.h/2/this.dpr,i.w/2,i.h/2)}}]}},en=class{constructor(e){this.radius=new St(e.radius,3),this.fill=new Mt(e.fill,"black"),this.stroke=new Mt(e.stroke,"white"),this.width=new St(e.width,0),this.opacity=new St(e.opacity)}draw(e,t,n,r){e.globalAlpha=this.opacity.get(n,r);let i=this.radius.get(n,r),o=this.width.get(n,r);o>0&&(e.strokeStyle=this.stroke.get(n,r),e.lineWidth=o,e.beginPath(),e.arc(t[0][0].x,t[0][0].y,i+o/2,0,2*Math.PI),e.stroke()),e.fillStyle=this.fill.get(n,r),e.beginPath(),e.arc(t[0][0].x,t[0][0].y,i,0,2*Math.PI),e.fill()}place(e,t,n){t[0];let r=new zt.default(t[0][0].x,t[0][0].y),i=this.radius.get(e.zoom,n);return[{anchor:r,bboxes:[{minX:r.x-i,minY:r.y-i,maxX:r.x+i,maxY:r.y+i}],draw:t=>{this.draw(t,[[new zt.default(0,0)]],e.zoom,n)}}]}},tn=class{constructor(e){this.font=new Ct(e),this.text=new Ft(e),this.fill=new Mt(e.fill,"black"),this.background=new Mt(e.background,"white"),this.padding=new St(e.padding,0)}place(e,t,n){let r=this.text.get(e.zoom,n);if(!r)return;let i=this.font.get(e.zoom,n);e.scratch.font=i;let o=e.scratch.measureText(r),u=o.width,d=o.actualBoundingBoxAscent,s=o.actualBoundingBoxDescent,a=(t[0],new zt.default(t[0][0].x,t[0][0].y)),l=this.padding.get(e.zoom,n);return[{anchor:a,bboxes:[{minX:a.x-u/2-l,minY:a.y-d-l,maxX:a.x+u/2+l,maxY:a.y+s+l}],draw:t=>{t.globalAlpha=1,t.fillStyle=this.background.get(e.zoom,n),t.fillRect(-u/2-l,-d-l,u+2*l,d+s+2*l),t.fillStyle=this.fill.get(e.zoom,n),t.font=i,t.fillText(r,-u/2,0)}}]}},nn=class{constructor(e){this.list=e}place(e,t,n){var r=this.list[0].place(e,t,n);if(!r)return;var i=r[0];let o=i.anchor,u=i.bboxes[0],d=u.maxY-u.minY,s=[{draw:i.draw,translate:{x:0,y:0}}],a=[[new zt.default(t[0][0].x,t[0][0].y+d)]];for(let l=1;l<this.list.length;l++)(r=this.list[l].place(e,a,n))&&(i=r[0],u=rn(u,i.bboxes[0]),s.push({draw:i.draw,translate:{x:0,y:d}}));return[{anchor:o,bboxes:[u],draw:e=>{for(let t of s)e.save(),e.translate(t.translate.x,t.translate.y),t.draw(e),e.restore()}}]}},rn=(e,t)=>({minX:Math.min(e.minX,t.minX),minY:Math.min(e.minY,t.minY),maxX:Math.max(e.maxX,t.maxX),maxY:Math.max(e.maxY,t.maxY)}),on=class{constructor(e){this.list=e}place(e,t,n){let r=this.list[0];if(!r)return;var i=r.place(e,t,n);if(!i)return;var o=i[0];let u=o.anchor,d=o.bboxes[0],s=[o.draw];for(let a=1;a<this.list.length;a++){if(!(i=this.list[a].place(e,t,n)))return;o=i[0],d=rn(d,o.bboxes[0]),s.push(o.draw)}return[{anchor:u,bboxes:[d],draw:e=>{s.forEach((t=>t(e)))}}]}},un=class{constructor(e){this.symbolizer=e}place(e,t,n){let r=t[0][0],i=this.symbolizer.place(e,[[new zt.default(0,0)]],n);if(!i||0==i.length)return;let o=i[0],u=o.bboxes[0],d=u.maxX-u.minX,s=u.maxY-u.minY;return[{anchor:r,bboxes:[{minX:r.x-d/2,maxX:r.x+d/2,minY:r.y-s/2,maxY:r.y+s/2}],draw:e=>{e.translate(-d/2,s/2-u.maxY),o.draw(e,{justify:2})}}]}},dn=class{constructor(e,t){this.padding=new St(e,0),this.symbolizer=t}place(e,t,n){let r=this.symbolizer.place(e,t,n);if(!r||0==r.length)return;let i=this.padding.get(e.zoom,n);for(var o of r)for(var u of o.bboxes)u.minX-=i,u.minY-=i,u.maxX+=i,u.maxY+=i;return r}},sn=class{constructor(e){this.font=new Ct(e),this.text=new Ft(e),this.fill=new Mt(e.fill,"black"),this.stroke=new Mt(e.stroke,"black"),this.width=new St(e.width,0),this.lineHeight=new St(e.lineHeight,1),this.letterSpacing=new St(e.letterSpacing,0),this.maxLineCodeUnits=new St(e.maxLineChars,15),this.justify=e.justify}place(e,t,n){let r=this.text.get(e.zoom,n);if(!r)return;let i=this.font.get(e.zoom,n);e.scratch.font=i;let o=this.letterSpacing.get(e.zoom,n),u=Ot(r,this.maxLineCodeUnits.get(e.zoom,n));var d="",s=0;for(let m of u)m.length>s&&(s=m.length,d=m);let a=e.scratch.measureText(d),l=a.width+o*(s-1),f=a.actualBoundingBoxAscent,c=a.actualBoundingBoxDescent,h=(f+c)*this.lineHeight.get(e.zoom,n),p=new zt.default(t[0][0].x,t[0][0].y);return[{anchor:p,bboxes:[{minX:p.x,minY:p.y-f,maxX:p.x+l,maxY:p.y+c+(u.length-1)*h}],draw:(t,r)=>{t.globalAlpha=1,t.font=i,t.fillStyle=this.fill.get(e.zoom,n);let d=this.width.get(e.zoom,n);var s=0;for(let i of u){var a=0;if(2==this.justify||r&&2==r.justify?a=(l-t.measureText(i).width)/2:(3==this.justify||r&&3==r.justify)&&(a=l-t.measureText(i).width),d)if(t.lineWidth=2*d,t.strokeStyle=this.stroke.get(e.zoom,n),o>0){var f=a;for(var c of i)t.strokeText(c,f,s),f+=t.measureText(c).width+o}else t.strokeText(i,a,s);if(o>0){f=a;for(var c of i)t.fillText(c,f,s),f+=t.measureText(c).width+o}else t.fillText(i,a,s);s+=h}}}]}},an=class{constructor(e){this.centered=new un(new sn(e))}place(e,t,n){return this.centered.place(e,t,n)}},ln=class{constructor(e,t){var n,r,i;this.symbolizer=e,this.offsetX=new St(t.offsetX,0),this.offsetY=new St(t.offsetY,0),this.justify=null!=(n=t.justify)?n:void 0,this.placements=null!=(r=t.placements)?r:[2,6,8,4,1,3,5,7],this.ddValues=null!=(i=t.ddValues)?i:()=>({})}place(e,t,n){if(n.geomType!==Ce.Point)return;let r=t[0][0],i=this.symbolizer.place(e,[[new zt.default(0,0)]],n);if(!i||0==i.length)return;let o=i[0],u=o.bboxes[0],d=this.offsetX,s=this.offsetY,a=this.justify,l=this.placements;const{offsetX:f,offsetY:c,justify:h,placements:p}=this.ddValues(e.zoom,n)||{};f&&(d=new St(f,0)),c&&(s=new St(c,0)),h&&(a=h),p&&(l=p);const m=d.get(e.zoom,n),y=s.get(e.zoom,n);var b,g=new zt.default(m,y);let v=e=>{e.translate(g.x,g.y),o.draw(e,{justify:b})};const w=(t,n)=>{const i=((e,t)=>({minX:e.x+t.x+u.minX,minY:e.y+t.y+u.minY,maxX:e.x+t.x+u.maxX,maxY:e.y+t.y+u.maxY}))(t,n);if(!e.index.bboxCollides(i,e.order))return[{anchor:r,bboxes:[i],draw:v}]};for(let x of l){const e=this.computeXAxisOffset(m,u,x),t=this.computeYAxisOffset(y,u,x);return b=this.computeJustify(a,x),g=new zt.default(e,t),w(r,g)}}computeXAxisOffset(e,t,n){const r=t.maxX,i=r/2;return[1,5].includes(n)?e-i:[8,7,6].includes(n)?e-r:e}computeYAxisOffset(e,t,n){const r=Math.abs(t.minY),i=t.maxY,o=(t.minY+t.maxY)/2;return[3,7].includes(n)?e-o:[8,2,1].includes(n)?e-i:[6,4,5].includes(n)?e+r:e}computeJustify(e,t){return e||([1,5].includes(t)?2:[2,3,4].includes(t)?1:3)}},fn=class{constructor(e){this.symbolizer=new ln(new sn(e),e)}place(e,t,n){return this.symbolizer.place(e,t,n)}};(Gt=Kt||(Kt={}))[Gt.Above=1]="Above",Gt[Gt.Center=2]="Center",Gt[Gt.Below=3]="Below";var cn=class{constructor(e){var t;this.font=new Ct(e),this.text=new Ft(e),this.fill=new Mt(e.fill,"black"),this.stroke=new Mt(e.stroke,"black"),this.width=new St(e.width,0),this.offset=new St(e.offset,0),this.position=null!=(t=e.position)?t:1,this.maxLabelCodeUnits=new St(e.maxLabelChars,40),this.repeatDistance=new St(e.repeatDistance,250)}place(e,t,n){let r=this.text.get(e.zoom,n);if(!r)return;if(r.length>this.maxLabelCodeUnits.get(e.zoom,n))return;let i=n.bbox;if(i.maxY-i.minY<20&&i.maxX-i.minX<20)return;let o=this.font.get(e.zoom,n);e.scratch.font=o;let u=e.scratch.measureText(r),d=u.width,s=u.actualBoundingBoxAscent+u.actualBoundingBoxDescent;var a=this.repeatDistance.get(e.zoom,n);e.overzoom>4&&(a*=1<<e.overzoom-4);let l=2*s,f=function(e,t,n,r){let i=[];for(let u of e){let e=Zt(u,Math.PI/45,t);for(let d of e)if(d.length>=t+r){let e=new Et.default(u[d.beginIndex].x,u[d.beginIndex].y),s=u[d.endIndex-1],a=new Et.default((s.x-e.x)/d.length,(s.y-e.y)/d.length);for(var o=r;o<d.length-t;o+=n)i.push({start:e.add(a.mult(o)),end:e.add(a.mult(o+t))})}}return i}(t,d,a,l);if(0==f.length)return;let c=[];for(let h of f){let t=h.end.x-h.start.x,i=h.end.y-h.start.y,u=Dt(h.start,h.end,d,l/2).map((e=>({minX:e.x-l/2,minY:e.y-l/2,maxX:e.x+l/2,maxY:e.y+l/2}))),f=u=>{u.globalAlpha=1,u.rotate(Math.atan2(i,t)),t<0&&(u.scale(-1,-1),u.translate(-d,0));let a=0;3===this.position?a+=s:2===this.position&&(a+=s/2),u.translate(0,a-this.offset.get(e.zoom,n)),u.font=o;let l=this.width.get(e.zoom,n);l&&(u.lineWidth=l,u.strokeStyle=this.stroke.get(e.zoom,n),u.strokeText(r,0,0)),u.fillStyle=this.fill.get(e.zoom,n),u.fillText(r,0,0)};c.push({anchor:h.start,bboxes:u,draw:f,deduplicationKey:r,deduplicationDistance:a})}return c}},hn=class{constructor(e){this.symbolizer=new sn(e)}place(e,t,n){let r=n.bbox;if((r.maxY-r.minY)*(r.maxX-r.minX)<2e4)return;let i=this.symbolizer.place(e,[[new zt.default(0,0)]],n);if(!i||0==i.length)return;let o=i[0],u=o.bboxes[0],d=t[0],s=(0,Tt.default)([d.map((e=>[e.x,e.y]))]),a=new zt.default(s[0],s[1]);return[{anchor:a,bboxes:[{minX:a.x-(u.maxX-u.minX)/2,minY:a.y-(u.maxY-u.minY)/2,maxX:a.x+(u.maxX-u.minX)/2,maxY:a.y+(u.maxY-u.minY)/2}],draw:e=>{e.translate(o.anchor.x-(u.maxX-u.minX)/2,o.anchor.y),o.draw(e)}}]}},pn=(e,t)=>{let n=jt(t),r=((e,t)=>{for(var n in t||(t={}))a.call(t,n)&&f(e,n,t[n]);if(d)for(var n of d(t))l.call(t,n)&&f(e,n,t[n]);return e})({},e);for(const[i,o]of Object.entries(e)){let e=jt(o);r[i]=kt(n[0],n[1],e[2],e[3])}return r},mn=(e,t)=>(t&&(e=pn(e,t)),[{dataLayer:"earth",symbolizer:new Xt({fill:e.earth})},{dataLayer:"natural",symbolizer:new Xt({fill:e.glacier}),filter:(e,t)=>"glacier"==t.props.natural},{dataLayer:"landuse",symbolizer:new Xt({fill:e.residential}),filter:(e,t)=>"residential"==t.props.landuse||"neighbourhood"==t.props.place},{dataLayer:"landuse",symbolizer:new Xt({fill:e.hospital}),filter:(e,t)=>"hospital"==t.props.amenity},{dataLayer:"landuse",symbolizer:new Xt({fill:e.cemetery}),filter:(e,t)=>"cemetery"==t.props.landuse},{dataLayer:"landuse",symbolizer:new Xt({fill:e.school}),filter:(e,t)=>"school"==t.props.amenity||"kindergarten"==t.props.amenity||"university"==t.props.amenity||"college"==t.props.amenity},{dataLayer:"landuse",symbolizer:new Xt({fill:e.industrial}),filter:(e,t)=>"industrial"==t.props.landuse},{dataLayer:"natural",symbolizer:new Xt({fill:e.wood}),filter:(e,t)=>"wood"==t.props.natural},{dataLayer:"landuse",symbolizer:new Xt({fill:e.grass}),filter:(e,t)=>"grass"==t.props.landuse},{dataLayer:"landuse",symbolizer:new Xt({fill:e.park}),filter:(e,t)=>"park"==t.props.leisure},{dataLayer:"water",symbolizer:new Xt({fill:e.water})},{dataLayer:"natural",symbolizer:new Xt({fill:e.sand}),filter:(e,t)=>"sand"==t.props.natural},{dataLayer:"buildings",symbolizer:new Xt({fill:e.buildings})},{dataLayer:"roads",symbolizer:new Jt({color:e.highwayCasing,width:qt(1.4,[[5,1.5],[11,4],[16,9],[20,40]])}),filter:(e,t)=>"highway"==t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:e.majorRoadCasing,width:qt(1.4,[[9,3],[12,4],[17,8],[20,22]])}),filter:(e,t)=>"major_road"==t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:e.mediumRoadCasing,width:qt(1.4,[[13,3],[17,6],[20,18]])}),filter:(e,t)=>"medium_road"==t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:e.minorRoadCasing,width:qt(1.4,[[14,2],[17,5],[20,15]])}),filter:(e,t)=>"minor_road"==t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:e.minorRoad,width:qt(1.4,[[14,1],[17,3],[20,13]])}),filter:(e,t)=>"minor_road"==t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:e.mediumRoad,width:qt(1.4,[[13,2],[17,4],[20,15]])}),filter:(e,t)=>"medium_road"==t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:e.majorRoad,width:qt(1.4,[[9,2],[12,3],[17,6],[20,20]])}),filter:(e,t)=>"major_road"==t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:e.highway,width:qt(1.4,[[5,.5],[11,2.5],[16,7],[20,30]])}),filter:(e,t)=>"highway"==t.props["pmap:kind"]},{dataLayer:"boundaries",symbolizer:new Jt({color:e.boundaries,width:2,opacity:.4})},{dataLayer:"mask",symbolizer:new Xt({fill:e.mask})}]),yn=(e,t,n,r)=>{t&&(e=pn(e,t));var i=["name"];n&&(i=n);let o=(e,t)=>r?new nn(e instanceof fn?[e,new fn({fill:t,label_props:r})]:[e,new an({fill:t,label_props:r})]):e;return[{dataLayer:"places",symbolizer:o(new an({label_props:i,fill:e.countryLabel,lineHeight:1.5,font:(e,t)=>e<6?"200 14px sans-serif":"200 20px sans-serif",textTransform:"uppercase"}),e.countryLabel),filter:(e,t)=>"country"==t.props["pmap:kind"]},{dataLayer:"places",symbolizer:o(new an({label_props:i,fill:e.stateLabel,font:"300 16px sans-serif"}),e.stateLabel),filter:(e,t)=>"state"==t.props["pmap:kind"]},{id:"cities_high",dataLayer:"places",filter:(e,t)=>"city"==t.props["pmap:kind"],minzoom:7,symbolizer:o(new an({label_props:i,fill:e.cityLabel,font:(e,t)=>1===(null==t?void 0:t.props["pmap:rank"])?e>8?"600 20px sans-serif":"600 12px sans-serif":e>8?"600 16px sans-serif":"600 10px sans-serif"}),e.cityLabel),sort:(e,t)=>e["pmap:rank"]-t["pmap:rank"]},{id:"cities_low",dataLayer:"places",filter:(e,t)=>"city"==t.props["pmap:kind"],maxzoom:6,symbolizer:new on([new en({radius:2,fill:e.cityLabel}),o(new fn({label_props:i,fill:e.cityLabel,offsetX:2,offsetY:2,font:(e,t)=>1===(null==t?void 0:t.props["pmap:rank"])?e>8?"600 20px sans-serif":"600 12px sans-serif":e>8?"600 16px sans-serif":"600 10px sans-serif"}),e.cityLabel)]),sort:(e,t)=>e["pmap:rank"]-t["pmap:rank"]},{id:"neighbourhood",dataLayer:"places",symbolizer:o(new an({label_props:i,fill:e.neighbourhoodLabel,font:"500 10px sans-serif",textTransform:"uppercase"}),e.neighbourhoodLabel),filter:(e,t)=>"neighbourhood"==t.props["pmap:kind"]},{dataLayer:"landuse",symbolizer:o(new hn({label_props:i,fill:e.landuseLabel,font:"300 12px sans-serif"}),e.landuseLabel)},{dataLayer:"water",symbolizer:o(new hn({label_props:i,fill:e.waterLabel,font:"italic 600 12px sans-serif"}),e.waterLabel)},{dataLayer:"natural",symbolizer:o(new hn({label_props:i,fill:e.naturalLabel,font:"italic 300 12px sans-serif"}),e.naturalLabel)},{dataLayer:"roads",symbolizer:o(new cn({label_props:i,fill:e.roadsLabel,font:"500 12px sans-serif"}),e.roadsLabel),minzoom:12},{dataLayer:"roads",symbolizer:new tn({label_props:["ref"],font:"600 9px sans-serif",background:e.highway,padding:2,fill:e.neighbourhoodLabel}),filter:(e,t)=>"highway"==t.props["pmap:kind"]},{dataLayer:"pois",symbolizer:new on([new en({radius:2,fill:e.poisLabel}),o(new fn({label_props:i,fill:e.poisLabel,offsetX:2,offsetY:2,font:"300 10px sans-serif"}),e.poisLabel)])}]},bn=(e,t,n)=>[{dataSource:e,dataLayer:t,symbolizer:new en({opacity:.2,fill:n,radius:4}),filter:(e,t)=>t.geomType==Ce.Point},{dataSource:e,dataLayer:t,symbolizer:new Jt({opacity:.2,color:n,width:2}),filter:(e,t)=>t.geomType==Ce.Line},{dataSource:e,dataLayer:t,symbolizer:new Xt({opacity:.2,fill:n,stroke:n,width:1}),filter:(e,t)=>t.geomType==Ce.Polygon}],gn=(e,t)=>{var n=[];for(var[r,i]of e)for(var o of i)for(var u of o.data.keys())r===t.dataSource&&u===t.dataLayer||(n=n.concat(bn(r,u,"steelblue")));return n=n.concat(bn(t.dataSource||"",t.dataLayer,"red"))},vn=6378137,wn=85.0511287798,xn=vn*Math.PI,_n=e=>{let t=Math.PI/180,n=Math.max(Math.min(wn,e.y),-85.0511287798),r=Math.sin(n*t);return new T.default(vn*e.x*t,vn*Math.log((1+r)/(1-r))/2)},jn=(e,t)=>n=>{let r=_n(n);return new T.default((r.x+xn)/(2*xn),1-(r.y+xn)/(2*xn)).mult(256*(1<<t)).sub(e)},kn=(e,t)=>n=>{let r=new T.default(n.x,n.y).add(e).div(256*(1<<t));return(e=>{var t=180/Math.PI;return{lat:(2*Math.atan(Math.exp(e.y/vn))-Math.PI/2)*t,lng:e.x*t/vn}})(new T.default(r.x*(2*xn)-xn,(1-r.y)*(2*xn)-xn))},zn=(e,t)=>{let n=t*(360/e);return Math.log2(n/256)},Ln=class{constructor(e){let t=e.dark?lt:at;this.paint_rules=e.paint_rules||mn(t,e.shade),this.label_rules=e.label_rules||yn(t,e.shade,e.language1,e.language2),this.backgroundColor=e.backgroundColor,this.views=et(e),this.debug=e.debug||"",this.xray=e.xray}drawContext(e,t,n,r,i){return p(this,null,(function*(){let o=_n(r),u=new T.default((o.x+xn)/(2*xn),1-(o.y+xn)/(2*xn)).clone().mult(256*Math.pow(2,i)).sub(new T.default(t/2,n/2)),d={minX:u.x,minY:u.y,maxX:u.x+t,maxY:u.y+n},s=[];for(const[e,t]of this.views){let n=t.getBbox(i,d);s.push({key:e,promise:n})}let a=yield Promise.all(s.map((e=>e.promise.then((t=>({status:"fulfilled",value:t,key:e.key})),(t=>({status:"rejected",value:[],reason:t,key:e.key})))))),l=new Map;for(const e of a)"fulfilled"===e.status&&l.set(e.key,e.value);let f=performance.now(),c=new dt(i,e,this.label_rules,16,void 0);c.add(l);this.backgroundColor&&(e.save(),e.fillStyle=this.backgroundColor,e.fillRect(0,0,t,n),e.restore());let h=this.paint_rules;this.xray&&(h=gn(l,this.xray));nt(e,i,l,this.xray?null:c.index,h,d,u,!0,this.debug);if(this.debug){e.save(),e.translate(-u.x,-u.y),e.strokeStyle=this.debug,e.fillStyle=this.debug,e.font="12px sans-serif";let t=0;for(const[n,r]of l){for(let i of r){e.strokeRect(i.origin.x,i.origin.y,i.dim,i.dim);let r=i.data_tile;e.fillText(n+(n?" ":"")+r.z+" "+r.x+" "+r.y,i.origin.x+4,i.origin.y+14*(1+t))}t++}e.restore()}return{elapsed:performance.now()-f,project:jn(u,i),unproject:kn(u,i)}}))}drawCanvas(e,t,n){return p(this,arguments,(function*(e,t,n,r={}){let i=window.devicePixelRatio,o=e.clientWidth,u=e.clientHeight;e.width==o*i&&e.height==u*i||(e.width=o*i,e.height=u*i),r.lang&&(e.lang=r.lang);let d=e.getContext("2d");return d.setTransform(i,0,0,i,0,0),this.drawContext(d,o,u,t,n)}))}drawContextBounds(e,t,n,r,i){return p(this,null,(function*(){let o=n.x-t.x,u=new T.default((t.x+n.x)/2,(t.y+n.y)/2);return this.drawContext(e,r,i,u,zn(o,r))}))}drawCanvasBounds(e,t,n,r){return p(this,arguments,(function*(e,t,n,r,i={}){let o=n.x-t.x,u=new T.default((t.x+n.x)/2,(t.y+n.y)/2);return this.drawCanvas(e,u,zn(o,r),i)}))}},Tn=h(m()),Mn=e=>e.then((e=>({status:"fulfilled",value:e})),(e=>({status:"rejected",reason:e}))),Sn=(e={})=>{class t extends L.GridLayer{constructor(e={}){e.noWrap&&!e.bounds&&(e.bounds=[[-90,-180],[90,180]]),null==e.attribution&&(e.attribution='<a href="https://protomaps.com">Protomaps</a> \xa9 <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>'),super(e);let t=e.dark?lt:at;this.paint_rules=e.paint_rules||mn(t,e.shade),this.label_rules=e.label_rules||yn(t,e.shade,e.language1,e.language2),this.backgroundColor=e.backgroundColor,this.lastRequestedZ=void 0,this.xray=e.xray,this.tasks=e.tasks||[],this.views=et(e),this.debug=e.debug;let n=document.createElement("canvas").getContext("2d");this.scratch=n,this.onTilesInvalidated=e=>{e.forEach((e=>{this.rerenderTile(e)}))},this.labelers=new st(this.scratch,this.label_rules,16,this.onTilesInvalidated),this.tile_size=256*window.devicePixelRatio,this.tileDelay=e.tileDelay||3,this.lang=e.lang,this.inspector=this.inspect(this)}setDefaultStyle(e,t,n,r){let i=e?lt:at;this.paint_rules=mn(i,t),this.label_rules=yn(i,t,n,r)}renderTile(e,t,n,r=(()=>{})){return p(this,null,(function*(){this.lastRequestedZ=e.z;let i=[];for(const[t,n]of this.views){let r=n.getDisplayTile(e);i.push({key:t,promise:r})}let o=yield Promise.all(i.map((e=>e.promise.then((t=>({status:"fulfilled",value:t,key:e.key})),(t=>({status:"rejected",reason:t,key:e.key})))))),u=new Map;for(const e of o)"fulfilled"===e.status?u.set(e.key,[e.value]):"AbortError"===e.reason.name||console.error(e.reason);if(t.key!=n)return;if(this.lastRequestedZ!==e.z)return;if(yield Promise.all(this.tasks.map(Mn)),t.key!=n)return;if(this.lastRequestedZ!==e.z)return;let d=this.labelers.add(e.z,u);if(t.key!=n)return;if(this.lastRequestedZ!==e.z)return;let s=this.labelers.getIndex(e.z);if(!this._map)return;let a=this._map.getCenter().wrap(),l=this._getTiledPixelBounds(a),f=this._pxBoundsToTileRange(l).getCenter(),c=e.distanceTo(f)*this.tileDelay;var h;if(yield(h=c,new Promise(((e,t)=>{setTimeout((()=>{e()}),h)}))),t.key!=n)return;if(this.lastRequestedZ!==e.z)return;let p={minX:256*e.x-16,minY:256*e.y-16,maxX:256*(e.x+1)+16,maxY:256*(e.y+1)+16},m=new Tn.default(256*e.x,256*e.y);t.width=this.tile_size,t.height=this.tile_size;let y=t.getContext("2d");y.setTransform(this.tile_size/256,0,0,this.tile_size/256,0,0),y.clearRect(0,0,256,256),this.backgroundColor&&(y.save(),y.fillStyle=this.backgroundColor,y.fillRect(0,0,256,256),y.restore());var b=0;let g=this.paint_rules;if(this.xray&&(g=gn(u,this.xray)),b=nt(y,e.z,u,this.xray?null:s,g,p,m,!1,this.debug),this.debug){y.save(),y.fillStyle=this.debug,y.font="600 12px sans-serif",y.fillText(e.z+" "+e.x+" "+e.y,4,14),y.font="12px sans-serif";let t=28;for(let[e,n]of u){let r=n[0].data_tile;y.fillText(e+(e?" ":"")+r.z+" "+r.x+" "+r.y,4,t),t+=14}y.font="600 10px sans-serif",b>8&&(y.fillText(b.toFixed()+" ms paint",4,t),t+=14),d>8&&y.fillText(d.toFixed()+" ms layout",4,t),y.strokeStyle=this.debug,y.lineWidth=.5,y.beginPath(),y.moveTo(0,0),y.lineTo(0,256),y.stroke(),y.lineWidth=.5,y.beginPath(),y.moveTo(0,0),y.lineTo(256,0),y.stroke(),y.restore()}r()}))}rerenderTile(e){for(let t in this._tiles){let n=this._wrapCoords(this._keyToTileCoords(t));e===this._tileCoordsToKey(n)&&this.renderTile(n,this._tiles[t].el,e)}}clearLayout(){this.labelers=new st(this.scratch,this.label_rules,16,this.onTilesInvalidated)}rerenderTiles(){for(let e in this._tiles){let t=this._wrapCoords(this._keyToTileCoords(e)),n=this._tileCoordsToKey(t);this.renderTile(t,this._tiles[e].el,n)}}createTile(e,t){let n=L.DomUtil.create("canvas","leaflet-tile");n.lang=this.lang;let r=this._tileCoordsToKey(e);return n.key=r,this.renderTile(e,n,r,(()=>{t(null,n)})),n}_removeTile(e){let t=this._tiles[e];t&&(t.el.removed=!0,t.el.key=void 0,L.DomUtil.removeClass(t.el,"leaflet-tile-loaded"),t.el.width=t.el.height=0,L.DomUtil.remove(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))}queryFeatures(e,t){let n=new Map;for(var[r,i]of this.views)n.set(r,i.queryFeatures(e,t,this._map.getZoom()));return n}inspect(e){return t=>{let n=["\u25ce","\u27cd","\u25fb"],r=e._map.wrapLatLng(t.latlng),i=e.queryFeatures(r.lng,r.lat);var o="";let u=!0;for(var[d,s]of i)for(var a of s)if(!this.xray||!0===this.xray||(this.xray.dataSource||"")===d&&this.xray.dataLayer===a.layerName){o+=`<div style="margin-top:${u?0:.5}em">${n[a.feature.geomType-1]} <b>${d} ${d?"/":""} ${a.layerName}</b> ${a.feature.id||""}</div>`;for(const e in a.feature.props)o+=`<div style="font-size:0.9em">${e} = ${a.feature.props[e]}</div>`;u=!1}u&&(o="No features."),L.popup().setLatLng(t.latlng).setContent('<div style="max-height:400px;overflow-y:scroll;padding-right:8px">'+o+"</div>").openOn(e._map)}}addInspector(e){return e.on("click",this.inspector)}removeInspector(e){return e.off("click",this.inspector)}}return new t(e)};var Fn=(e,t,n)=>{let r=new FontFace(e,"url("+t+")",{weight:n});return document.fonts.add(r),r.load()},Cn=e=>p(void 0,null,(function*(){return new Promise(((t,n)=>{let r=new Image;r.onload=()=>t(r),r.onerror=()=>n("Invalid SVG"),r.src=e}))})),En=class{constructor(e){this.src=e,this.canvas=document.createElement("canvas"),this.mapping=new Map,this.missingBox={x:0,y:0,w:0,h:0}}load(){return p(this,null,(function*(){let e=this.src,t=window.devicePixelRatio;if(e.endsWith(".html")){let t=yield fetch(e);e=yield t.text()}let n=(new window.DOMParser).parseFromString(e,"text/html"),r=Array.from(n.body.children),i=yield Cn("data:image/svg+xml;base64,"+btoa('\n<svg width="20px" height="20px" viewBox="0 0 50 50" version="1.1" xmlns="http://www.w3.org/2000/svg">\n    <rect width="50" height="50" fill="#cccccc"/>\n    <g transform="translate(5,5)">\n        <path fill="none" stroke="#666666" stroke-width="7" d="m11,12a8.5,8 0 1,1 17,0q0,4-4,6t-4.5,4.5-.4,4v.2m0,3v7"/>\n    </g>\n</svg>\n')),o=[{w:i.width*t,h:i.height*t,img:i,id:""}],u=new XMLSerializer;for(let l of r){var d="data:image/svg+xml;base64,"+btoa(u.serializeToString(l));let e=yield Cn(d);o.push({w:e.width*t,h:e.height*t,img:e,id:l.id})}let s=function(e){let t=0,n=0;for(const u of e)t+=u.w*u.h,n=Math.max(n,u.w);e.sort(((e,t)=>t.h-e.h));const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,o=0;for(const u of e)for(let e=r.length-1;e>=0;e--){const t=r[e];if(!(u.w>t.w||u.h>t.h)){if(u.x=t.x,u.y=t.y,o=Math.max(o,u.y+u.h),i=Math.max(i,u.x+u.w),u.w===t.w&&u.h===t.h){const t=r.pop();e<r.length&&(r[e]=t)}else u.h===t.h?(t.x+=u.w,t.w-=u.w):u.w===t.w?(t.y+=u.h,t.h-=u.h):(r.push({x:t.x+u.w,y:t.y,w:t.w-u.w,h:u.h}),t.y+=u.h,t.h-=u.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}(o);this.canvas.width=s.w,this.canvas.height=s.h;let a=this.canvas.getContext("2d");if(a)for(let l of o)void 0!==l.x&&void 0!==l.y&&(a.drawImage(l.img,l.x,l.y,l.w,l.h),l.id?this.mapping.set(l.id,{x:l.x,y:l.y,w:l.w,h:l.h}):this.missingBox={x:l.x,y:l.y,w:l.w,h:l.h});return this}))}get(e){let t=this.mapping.get(e);return t||(t=this.missingBox),t}};function Zn(e,t){return"number"===typeof e?e:t}function Dn(e){if(e.includes("$type"))return e=>!0;if("=="==e[0])return(t,n)=>n.props[e[1]]===e[2];if("!="==e[0])return(t,n)=>n.props[e[1]]!==e[2];if("!"==e[0]){let t=Dn(e[1]);return(e,n)=>!t(e,n)}if("<"===e[0])return(t,n)=>Zn(n.props[e[1]],1/0)<e[2];if("<="===e[0])return(t,n)=>Zn(n.props[e[1]],1/0)<=e[2];if(">"===e[0])return(t,n)=>Zn(n.props[e[1]],-1/0)>e[2];if(">="===e[0])return(t,n)=>Zn(n.props[e[1]],-1/0)>=e[2];if("in"===e[0])return(t,n)=>e.slice(2,e.length).includes(n.props[e[1]]);if("!in"===e[0])return(t,n)=>!e.slice(2,e.length).includes(n.props[e[1]]);if("has"===e[0])return(t,n)=>n.props.hasOwnProperty(e[1]);if("!has"===e[0])return(t,n)=>!n.props.hasOwnProperty(e[1]);if("all"===e[0]){let t=e.slice(1,e.length).map((e=>Dn(e)));return(e,n)=>t.every((t=>t(e,n)))}if("any"===e[0]){let t=e.slice(1,e.length).map((e=>Dn(e)));return(e,n)=>t.some((t=>t(e,n)))}return console.log("Unimplemented filter: ",e[0]),e=>!1}function On(e){if(e.base&&e.stops)return t=>qt(e.base,e.stops)(t-1);if("interpolate"==e[0]&&"exponential"==e[1][0]&&"zoom"==e[2]){let n=e.slice(3),r=[];for(var t=0;t<n.length;t+=2)r.push([n[t],n[t+1]]);return t=>qt(e[1][1],r)(t-1)}if("step"==e[0]&&"get"==e[1][0]){let n=e.slice(2),r=e[1][1];return(e,i)=>{let o=null==i?void 0:i.props[r];if("number"===typeof o){if(o<n[1])return n[0];for(t=1;t<n.length;t+=2)if(o<=n[t])return n[t+1]}return n[n.length-1]}}return console.log("Unimplemented numeric fn: ",e),e=>1}function Pn(e,t=0){return e?"number"==typeof e?e:(n,r)=>r?On(e)(n,r):t:t}function Bn(e,t){let n=Pn(e,1),r=Pn(t);return(e,t)=>{let i="number"==typeof n?n:n(e,t);return r?i+("number"==typeof r?r:r(e,t)):i}}function An(e,t){let n=[];for(let d of e["text-font"])t.hasOwnProperty(d)&&n.push(t[d]);0===n.length&&n.push({face:"sans-serif"});let r=e["text-size"];var i="";n.length&&n[0].weight&&(i=n[0].weight+" ");var o="";if(n.length&&n[0].style&&(o=n[0].style+" "),"number"==typeof r)return e=>`${o}${i}${r}px ${n.map((e=>e.face)).join(", ")}`;if(r.stops){var u=1.4;r.base?u=r.base:r.base=u;let e=On(r);return(t,r)=>`${o}${i}${e(t,r)}px ${n.map((e=>e.face)).join(", ")}`}if("step"==r[0]){let e=On(r);return(t,r)=>`${o}${i}${e(t,r)}px ${n.map((e=>e.face)).join(", ")}`}return console.log("Can't parse font: ",e),e=>"12px sans-serif"}function In(e,t){let n=[],r=[],i=new Map;for(var o of e.layers){if(i.set(o.id,o),o.layout&&"none"==o.layout.visibility)continue;if(o.ref){let e=i.get(o.ref);o.type=e.type,o.filter=e.filter,o.source=e.source,o["source-layer"]=e["source-layer"]}o["source-layer"];var u=void 0;o.filter&&(u=Dn(o.filter)),"fill"==o.type?n.push({dataLayer:o["source-layer"],filter:u,symbolizer:new Xt({fill:o.paint["fill-color"],opacity:o.paint["fill-opacity"]})}):"fill-extrusion"==o.type?n.push({dataLayer:o["source-layer"],filter:u,symbolizer:new Xt({fill:o.paint["fill-extrusion-color"],opacity:o.paint["fill-extrusion-opacity"]})}):"line"==o.type?o.paint["line-dasharray"]?n.push({dataLayer:o["source-layer"],filter:u,symbolizer:new Jt({width:Bn(o.paint["line-width"],o.paint["line-gap-width"]),dash:o.paint["line-dasharray"],dashColor:o.paint["line-color"]})}):n.push({dataLayer:o["source-layer"],filter:u,symbolizer:new Jt({color:o.paint["line-color"],width:Bn(o.paint["line-width"],o.paint["line-gap-width"])})}):"symbol"==o.type?"line"==o.layout["symbol-placement"]?r.push({dataLayer:o["source-layer"],filter:u,symbolizer:new cn({font:An(o.layout,t),fill:o.paint["text-color"],width:o.paint["text-halo-width"],stroke:o.paint["text-halo-color"],textTransform:o.layout["text-transform"],label_props:o.layout["text-field"]?[o.layout["text-field"]]:void 0})}):r.push({dataLayer:o["source-layer"],filter:u,symbolizer:new an({font:An(o.layout,t),fill:o.paint["text-color"],stroke:o.paint["text-halo-color"],width:o.paint["text-halo-width"],textTransform:o.layout["text-transform"],label_props:o.layout["text-field"]?[o.layout["text-field"]]:void 0})}):"circle"==o.type&&n.push({dataLayer:o["source-layer"],filter:u,symbolizer:new en({radius:o.paint["circle-radius"],fill:o.paint["circle-color"],stroke:o.paint["circle-stroke-color"],width:o.paint["circle-stroke-width"]})})}return r.reverse(),{paint_rules:n,label_rules:r,tasks:[]}}var Yn=e=>{let t=Yt(4,4,(e=>{var t=e.getContext("2d");t&&(t.beginPath(),t.rect(0,0,1,1),t.rect(2,2,1,1),t.fillStyle="black",t.fill())}));var n="black";"lite"===e&&(n="#d9d9d9");let r=["name:en","name"],i=[{dataLayer:"earth",symbolizer:new Xt({fill:"white"})},{dataLayer:"landuse",symbolizer:new Xt({pattern:t}),filter:(e,t)=>"park"==t.props.leisure},{dataLayer:"water",symbolizer:new Xt({fill:n})},{dataLayer:"roads",symbolizer:new Jt({color:"#dddddd"}),filter:(e,t)=>"minor_road"===t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:"white",width:Vt(16,[7,9,17,20])}),filter:(e,t)=>"medium_road"===t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:"#cccccc",width:Vt(10,[.2,.2,.2,.4,.8,1.5,4,7,13,16])}),filter:(e,t)=>"medium_road"===t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:"white",width:Vt(11,[1.25,5,5,5,8,11,18,22,30])}),filter:(e,t)=>"major_road"===t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:"black",width:Vt(9,[.15,.5,.7,1,1.5,1.9,5,7,12,18,26])}),filter:(e,t)=>"major_road"===t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:"white",width:Vt(7,[2.25,3.25,4.25,5,6,7,8,9,11,14,24,42,49])}),filter:(e,t)=>"highway"===t.props["pmap:kind"]},{dataLayer:"roads",symbolizer:new Jt({color:"black",width:Vt(6,[.1,1.5,1.5,1.5,2,2.5,3,3,4,6,9,15,28,35])}),filter:(e,t)=>"highway"===t.props["pmap:kind"]},{dataLayer:"transit",symbolizer:new Jt({color:"#888888",dashColor:"#888888",dash:[1,4],dashWidth:3}),filter:(e,t)=>"railway"===t.props["pmap:kind"],minzoom:14},{dataLayer:"transit",symbolizer:new Jt({color:"#888888"}),filter:(e,t)=>"railway"===t.props["pmap:kind"],minzoom:14},{dataLayer:"buildings",symbolizer:new Jt({color:"#888888",width:.5})},{dataLayer:"boundaries",symbolizer:new Jt({color:"black",width:1}),maxzoom:6},{dataLayer:"boundaries",symbolizer:new Jt({color:"white",width:2.5,dash:[3,1],dashWidth:.3,dashColor:"black"}),minzoom:7}],o=[{dataLayer:"places",symbolizer:new an({label_props:r,fill:"black",stroke:"white",width:1.5,fontFamily:"Inter",fontWeight:300,fontSize:15,justify:Pt.Center}),filter:(e,t)=>"country"==t.props["pmap:kind"]},{dataLayer:"places",symbolizer:new an({label_props:r,fill:"black",stroke:"white",width:2,fontFamily:"Inter",fontWeight:300,fontSize:12,justify:Pt.Center}),filter:(e,t)=>"state"==t.props["pmap:kind"]},{dataLayer:"places",symbolizer:new on([new en({radius:2,fill:"black",stroke:"white",width:2}),new fn({label_props:r,offsetX:3,fill:"black",stroke:"white",width:1.5,fontFamily:"Inter",fontWeight:600,fontSize:(e,t)=>1==t.props["pmap:rank"]?15:13})]),sort:(e,t)=>e["pmap:rank"]-t["pmap:rank"],filter:(e,t)=>"city"==t.props["pmap:kind"],maxzoom:8},{dataLayer:"places",symbolizer:new an({label_props:r,justify:Pt.Center,fill:"black",stroke:"white",width:2,fontFamily:"Inter",fontWeight:600,fontSize:(e,t)=>1==t.props["pmap:rank"]?15:13}),sort:(e,t)=>e["pmap:rank"]-t["pmap:rank"],filter:(e,t)=>"city"==t.props["pmap:kind"],minzoom:9},{dataLayer:"water",symbolizer:new hn({label_props:r,fill:"white",stroke:"black",width:3,font:"italic 400 12px Inter"})},{dataLayer:"landuse",symbolizer:new hn({fill:"black",stroke:"white",width:2,font:"italic 400 12px Inter"})},{dataLayer:"physical_point",symbolizer:new an({label_props:r,fill:"white",stroke:"black",width:3,font:"italic 600 12px Inter",textTransform:"uppercase",justify:Pt.Center}),filter:(e,t)=>["ocean","sea"].includes(t.props.place)},{dataLayer:"roads",symbolizer:new cn({fill:"black",stroke:"white",width:2,font:"600 14px Inter",offset:4})}];return{tasks:[Fn("Inter","https://cdn.protomaps.com/fonts/woff2/Inter.var.woff2","100 900")],paint_rules:i,label_rules:o,attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a>.'}}},"./node_modules/stimulus-use/dist/index.js":function(e,t,n){"use strict";n.d(t,{O8:function(){return d}});var r=n("./node_modules/@hotwired/stimulus/dist/stimulus.js");const i=(e,t,n)=>{let r=e;return!0===n?r=`${t.identifier}:${e}`:"string"===typeof n&&(r=`${n}:${e}`),r},o=(e,t,n)=>{const{bubbles:r,cancelable:i,composed:o}=t||{bubbles:!0,cancelable:!0,composed:!0};t&&Object.assign(n,{originalEvent:t});return new CustomEvent(e,{bubbles:r,cancelable:i,composed:o,detail:n})};console;const u={events:["click","touchend"],onlyVisible:!0,dispatchEvent:!0,eventPrefix:!0},d=(e,t={})=>{const n=e,{onlyVisible:r,dispatchEvent:d,events:s,eventPrefix:a}=Object.assign({},u,t),l=e=>{const u=(null===t||void 0===t?void 0:t.element)||n.element;if(!(u.contains(e.target)||!function(e){const t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,r=window.innerWidth||document.documentElement.clientWidth,i=t.top<=n&&t.top+t.height>0,o=t.left<=r&&t.left+t.width>0;return i&&o}(u)&&r)&&(n.clickOutside&&n.clickOutside(e),d)){const t=i("click:outside",n,a),r=o(t,e,{controller:n});u.dispatchEvent(r)}},f=()=>{null===s||void 0===s||s.forEach((e=>{window.addEventListener(e,l,!0)}))},c=()=>{null===s||void 0===s||s.forEach((e=>{window.removeEventListener(e,l,!0)}))},h=n.disconnect.bind(n);return Object.assign(n,{disconnect(){c(),h()}}),f(),[f,c]};class s extends r.Qr{}s.debounces=[];class a extends r.Qr{}a.throttles=[]},"./node_modules/textfit/textFit.js":function(e,t,n){var r,i,o;!function(n,u){"use strict";i=[],void 0===(o="function"===typeof(r=function(){var e={alignVert:!1,alignHoriz:!1,multiLine:!1,detectMultiLine:!0,minFontSize:6,maxFontSize:80,reProcess:!0,widthOnly:!1,alignVertWithFlexbox:!1};return function(n,r){r||(r={});var i={};for(var o in e)r.hasOwnProperty(o)?i[o]=r[o]:i[o]=e[o];"function"===typeof n.toArray&&(n=n.toArray());var u=Object.prototype.toString.call(n);"[object Array]"!==u&&"[object NodeList]"!==u&&"[object HTMLCollection]"!==u&&(n=[n]);for(var d=0;d<n.length;d++)t(n[d],i)};function t(e,t){if(!i(e)||!t.reProcess&&e.getAttribute("textFitted"))return!1;var d,s,a,l,f,c,h;if(t.reProcess||e.setAttribute("textFitted",1),a=e.innerHTML,l=r(e),s=n(e),!l||!t.widthOnly&&!s)throw t.widthOnly?new Error("Set a static width on the target element "+e.outerHTML+" before using textFit!"):new Error("Set a static height and width on the target element "+e.outerHTML+" before using textFit!");-1===a.indexOf("textFitted")?((d=document.createElement("span")).className="textFitted",d.style.display="inline-block",d.innerHTML=a,e.innerHTML="",e.appendChild(d)):o(d=e.querySelector("span.textFitted"),"textFitAlignVert")&&(d.className=d.className.replace("textFitAlignVert",""),d.style.height="",e.className.replace("textFitAlignVertFlex","")),t.alignHoriz&&(e.style["text-align"]="center",d.style["text-align"]="center");var p=t.multiLine;t.detectMultiLine&&!p&&d.scrollHeight>=2*parseInt(window.getComputedStyle(d)["font-size"],10)&&(p=!0),p||(e.style["white-space"]="nowrap"),f=t.minFontSize,h=t.maxFontSize;for(var m=f;f<=h;)c=h+f>>1,d.style.fontSize=c+"px",d.scrollWidth<=l&&(t.widthOnly||d.scrollHeight<=s)?(m=c,f=c+1):h=c-1;if(d.style.fontSize!=m+"px"&&(d.style.fontSize=m+"px"),t.alignVert){u();var y=d.scrollHeight;"static"===window.getComputedStyle(e).position&&(e.style.position="relative"),o(d,"textFitAlignVert")||(d.className=d.className+" textFitAlignVert"),d.style.height=y+"px",t.alignVertWithFlexbox&&!o(e,"textFitAlignVertFlex")&&(e.className=e.className+" textFitAlignVertFlex")}}function n(e){var t=window.getComputedStyle(e,null);return e.clientHeight-parseInt(t.getPropertyValue("padding-top"),10)-parseInt(t.getPropertyValue("padding-bottom"),10)}function r(e){var t=window.getComputedStyle(e,null);return e.clientWidth-parseInt(t.getPropertyValue("padding-left"),10)-parseInt(t.getPropertyValue("padding-right"),10)}function i(e){return"object"===typeof HTMLElement?e instanceof HTMLElement:e&&"object"===typeof e&&null!==e&&1===e.nodeType&&"string"===typeof e.nodeName}function o(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}function u(){if(!document.getElementById("textFitStyleSheet")){var e=[".textFitAlignVert{","position: absolute;","top: 0; right: 0; bottom: 0; left: 0;","margin: auto;","display: flex;","justify-content: center;","flex-direction: column;","}",".textFitAlignVertFlex{","display: flex;","}",".textFitAlignVertFlex .textFitAlignVert{","position: static;","}"].join(""),t=document.createElement("style");t.type="text/css",t.id="textFitStyleSheet",t.innerHTML=e,document.body.appendChild(t)}}})?r.apply(t,i):r)||(e.exports=o)}("object"===typeof n.g&&n.g)},"./node_modules/twemoji/dist/twemoji.esm.js":function(e,t){"use strict";var n=function(){var e={base:"https://twemoji.maxcdn.com/v/14.0.2/",ext:".png",size:"72x72",className:"emoji",convert:{fromCodePoint:function(e){var t="string"===typeof e?parseInt(e,16):e;if(t<65536)return d(t);return d(55296+((t-=65536)>>10),56320+(1023&t))},toCodePoint:b},onerror:function(){this.parentNode&&this.parentNode.replaceChild(s(this.alt,!1),this)},parse:function(t,n){n&&"function"!==typeof n||(n={callback:n});return("string"===typeof t?h:c)(t,{callback:n.callback||a,attributes:"function"===typeof n.attributes?n.attributes:m,base:"string"===typeof n.base?n.base:e.base,ext:n.ext||e.ext,size:n.folder||(r=n.size||e.size,"number"===typeof r?r+"x"+r:r),className:n.className||e.className,onerror:n.onerror||e.onerror});var r},replace:y,test:function(e){n.lastIndex=0;var t=n.test(e);return n.lastIndex=0,t}},t={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},n=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\xa9\xae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd-\uddcf\uddd1-\udddd\udec3-\udec5\udef0-\udef6]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedd-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude74\ude78-\ude7c\ude80-\ude86\ude90-\udeac\udeb0-\udeba\udec0-\udec2\uded0-\uded9\udee0-\udee7]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,r=/\uFE0F/g,i=String.fromCharCode(8205),o=/[&<>'"]/g,u=/^(?:iframe|noframes|noscript|script|select|style|textarea)$/,d=String.fromCharCode;return e;function s(e,t){return document.createTextNode(t?e.replace(r,""):e)}function a(e,t){return"".concat(t.base,t.size,"/",e,t.ext)}function l(e,t){for(var n,r,i=e.childNodes,o=i.length;o--;)3===(r=(n=i[o]).nodeType)?t.push(n):1!==r||"ownerSVGElement"in n||u.test(n.nodeName.toLowerCase())||l(n,t);return t}function f(e){return b(e.indexOf(i)<0?e.replace(r,""):e)}function c(e,t){for(var r,i,o,u,d,a,c,h,p,m,y,b,g,v=l(e,[]),w=v.length;w--;){for(o=!1,u=document.createDocumentFragment(),a=(d=v[w]).nodeValue,h=0;c=n.exec(a);){if((p=c.index)!==h&&u.appendChild(s(a.slice(h,p),!0)),b=f(y=c[0]),h=p+y.length,g=t.callback(b,t),b&&g){for(i in(m=new Image).onerror=t.onerror,m.setAttribute("draggable","false"),r=t.attributes(y,b))r.hasOwnProperty(i)&&0!==i.indexOf("on")&&!m.hasAttribute(i)&&m.setAttribute(i,r[i]);m.className=t.className,m.alt=y,m.src=g,o=!0,u.appendChild(m)}m||u.appendChild(s(y,!1)),m=null}o&&(h<a.length&&u.appendChild(s(a.slice(h),!0)),d.parentNode.replaceChild(u,d))}return e}function h(e,t){return y(e,(function(e){var n,r,i=e,u=f(e),d=t.callback(u,t);if(u&&d){for(r in i="<img ".concat('class="',t.className,'" ','draggable="false" ','alt="',e,'"',' src="',d,'"'),n=t.attributes(e,u))n.hasOwnProperty(r)&&0!==r.indexOf("on")&&-1===i.indexOf(" "+r+"=")&&(i=i.concat(" ",r,'="',n[r].replace(o,p),'"'));i=i.concat("/>")}return i}))}function p(e){return t[e]}function m(){return null}function y(e,t){return String(e).replace(n,t)}function b(e,t){for(var n=[],r=0,i=0,o=0;o<e.length;)r=e.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(r-56320)).toString(16)),i=0):55296<=r&&r<=56319?i=r:n.push(r.toString(16));return n.join(t||"-")}}();t.Z=n},"./node_modules/update-input-width/dist/esm/index.js":function(e,t,n){"use strict";n.d(t,{N1:function(){return i},X1:function(){return o}});var r=["normal","small-caps"];function i(e){if(!e)return"";var t=window.getComputedStyle(e);if(t.font)return t.font;if(!(""!==t["font-family"]))return"";var n=r.includes(t["font-variant"])?t["font-variant"]:"normal";return"".concat(t["font-style"]," ").concat(n," ").concat(t["font-weight"]," ").concat(t["font-size"]," / ").concat(t["line-height"]," ").concat(t["font-family"])}function o(e,t){var n=(o.canvas||(o.canvas=document.createElement("canvas"))).getContext("2d");if(!n)return null;n.font=t;var r=n.measureText(e).width;return Math.ceil(r)}},"./node_modules/lodash-es/_Set.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_getNative.js"),i=n("./node_modules/lodash-es/_root.js"),o=(0,r.Z)(i.Z,"Set");t.Z=o},"./node_modules/lodash-es/_Stack.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n("./node_modules/lodash-es/_ListCache.js");var i=function(){this.__data__=new r.Z,this.size=0};var o=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var u=function(e){return this.__data__.get(e)};var d=function(e){return this.__data__.has(e)},s=n("./node_modules/lodash-es/_Map.js"),a=n("./node_modules/lodash-es/_MapCache.js");var l=function(e,t){var n=this.__data__;if(n instanceof r.Z){var i=n.__data__;if(!s.Z||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new a.Z(i)}return n.set(e,t),this.size=n.size,this};function f(e){var t=this.__data__=new r.Z(e);this.size=t.size}f.prototype.clear=i,f.prototype.delete=o,f.prototype.get=u,f.prototype.has=d,f.prototype.set=l;var c=f},"./node_modules/lodash-es/_arraySome.js":function(e,t){"use strict";t.Z=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},"./node_modules/lodash-es/_baseGet.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_castPath.js"),i=n("./node_modules/lodash-es/_toKey.js");t.Z=function(e,t){for(var n=0,o=(t=(0,r.Z)(t,e)).length;null!=e&&n<o;)e=e[(0,i.Z)(t[n++])];return n&&n==o?e:void 0}},"./node_modules/lodash-es/_baseIsEqual.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var r=n("./node_modules/lodash-es/_Stack.js"),i=n("./node_modules/lodash-es/_SetCache.js"),o=n("./node_modules/lodash-es/_arraySome.js"),u=n("./node_modules/lodash-es/_cacheHas.js");var d=function(e,t,n,r,d,s){var a=1&n,l=e.length,f=t.length;if(l!=f&&!(a&&f>l))return!1;var c=s.get(e),h=s.get(t);if(c&&h)return c==t&&h==e;var p=-1,m=!0,y=2&n?new i.Z:void 0;for(s.set(e,t),s.set(t,e);++p<l;){var b=e[p],g=t[p];if(r)var v=a?r(g,b,p,t,e,s):r(b,g,p,e,t,s);if(void 0!==v){if(v)continue;m=!1;break}if(y){if(!(0,o.Z)(t,(function(e,t){if(!(0,u.Z)(y,t)&&(b===e||d(b,e,n,r,s)))return y.push(t)}))){m=!1;break}}else if(b!==g&&!d(b,g,n,r,s)){m=!1;break}}return s.delete(e),s.delete(t),m},s=n("./node_modules/lodash-es/_Symbol.js"),a=n("./node_modules/lodash-es/_root.js").Z.Uint8Array,l=n("./node_modules/lodash-es/eq.js");var f=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n},c=n("./node_modules/lodash-es/_setToArray.js"),h=s.Z?s.Z.prototype:void 0,p=h?h.valueOf:void 0;var m=function(e,t,n,r,i,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new a(e),new a(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,l.Z)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=f;case"[object Set]":var h=1&r;if(s||(s=c.Z),e.size!=t.size&&!h)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var y=d(s(e),s(t),r,i,o,u);return u.delete(e),y;case"[object Symbol]":if(p)return p.call(e)==p.call(t)}return!1},y=n("./node_modules/lodash-es/_arrayPush.js"),b=n("./node_modules/lodash-es/isArray.js");var g=function(e,t,n){var r=t(e);return(0,b.Z)(e)?r:(0,y.Z)(r,n(e))};var v=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[i++]=u)}return o};var w=function(){return[]},x=Object.prototype.propertyIsEnumerable,_=Object.getOwnPropertySymbols,j=_?function(e){return null==e?[]:(e=Object(e),v(_(e),(function(t){return x.call(e,t)})))}:w,k=n("./node_modules/lodash-es/keys.js");var z=function(e){return g(e,k.Z,j)},L=Object.prototype.hasOwnProperty;var T=function(e,t,n,r,i,o){var u=1&n,d=z(e),s=d.length;if(s!=z(t).length&&!u)return!1;for(var a=s;a--;){var l=d[a];if(!(u?l in t:L.call(t,l)))return!1}var f=o.get(e),c=o.get(t);if(f&&c)return f==t&&c==e;var h=!0;o.set(e,t),o.set(t,e);for(var p=u;++a<s;){var m=e[l=d[a]],y=t[l];if(r)var b=u?r(y,m,l,t,e,o):r(m,y,l,e,t,o);if(!(void 0===b?m===y||i(m,y,n,r,o):b)){h=!1;break}p||(p="constructor"==l)}if(h&&!p){var g=e.constructor,v=t.constructor;g==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof g&&g instanceof g&&"function"==typeof v&&v instanceof v||(h=!1)}return o.delete(e),o.delete(t),h},M=n("./node_modules/lodash-es/_getTag.js"),S=n("./node_modules/lodash-es/isBuffer.js"),F=n("./node_modules/lodash-es/isTypedArray.js"),C="[object Arguments]",E="[object Array]",Z="[object Object]",D=Object.prototype.hasOwnProperty;var O=function(e,t,n,i,o,u){var s=(0,b.Z)(e),a=(0,b.Z)(t),l=s?E:(0,M.Z)(e),f=a?E:(0,M.Z)(t),c=(l=l==C?Z:l)==Z,h=(f=f==C?Z:f)==Z,p=l==f;if(p&&(0,S.Z)(e)){if(!(0,S.Z)(t))return!1;s=!0,c=!1}if(p&&!c)return u||(u=new r.Z),s||(0,F.Z)(e)?d(e,t,n,i,o,u):m(e,t,l,n,i,o,u);if(!(1&n)){var y=c&&D.call(e,"__wrapped__"),g=h&&D.call(t,"__wrapped__");if(y||g){var v=y?e.value():e,w=g?t.value():t;return u||(u=new r.Z),o(v,w,n,i,u)}}return!!p&&(u||(u=new r.Z),T(e,t,n,i,o,u))},P=n("./node_modules/lodash-es/isObjectLike.js");var B=function e(t,n,r,i,o){return t===n||(null==t||null==n||!(0,P.Z)(t)&&!(0,P.Z)(n)?t!==t&&n!==n:O(t,n,r,i,e,o))}},"./node_modules/lodash-es/_baseIteratee.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return S}});var r=n("./node_modules/lodash-es/_Stack.js"),i=n("./node_modules/lodash-es/_baseIsEqual.js");var o=function(e,t,n,o){var u=n.length,d=u,s=!o;if(null==e)return!d;for(e=Object(e);u--;){var a=n[u];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++u<d;){var l=(a=n[u])[0],f=e[l],c=a[1];if(s&&a[2]){if(void 0===f&&!(l in e))return!1}else{var h=new r.Z;if(o)var p=o(f,c,l,e,t,h);if(!(void 0===p?(0,i.Z)(c,f,3,o,h):p))return!1}}return!0},u=n("./node_modules/lodash-es/isObject.js");var d=function(e){return e===e&&!(0,u.Z)(e)},s=n("./node_modules/lodash-es/keys.js");var a=function(e){for(var t=(0,s.Z)(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,d(i)]}return t};var l=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};var f=function(e){var t=a(e);return 1==t.length&&t[0][2]?l(t[0][0],t[0][1]):function(n){return n===e||o(n,e,t)}},c=n("./node_modules/lodash-es/get.js");var h=function(e,t){return null!=e&&t in Object(e)},p=n("./node_modules/lodash-es/_castPath.js"),m=n("./node_modules/lodash-es/isArguments.js"),y=n("./node_modules/lodash-es/isArray.js"),b=n("./node_modules/lodash-es/_isIndex.js"),g=n("./node_modules/lodash-es/isLength.js"),v=n("./node_modules/lodash-es/_toKey.js");var w=function(e,t,n){for(var r=-1,i=(t=(0,p.Z)(t,e)).length,o=!1;++r<i;){var u=(0,v.Z)(t[r]);if(!(o=null!=e&&n(e,u)))break;e=e[u]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&(0,g.Z)(i)&&(0,b.Z)(u,i)&&((0,y.Z)(e)||(0,m.Z)(e))};var x=function(e,t){return null!=e&&w(e,t,h)},_=n("./node_modules/lodash-es/_isKey.js");var j=function(e,t){return(0,_.Z)(e)&&d(t)?l((0,v.Z)(e),t):function(n){var r=(0,c.Z)(n,e);return void 0===r&&r===t?x(n,e):(0,i.Z)(t,r,3)}},k=n("./node_modules/lodash-es/identity.js");var z=function(e){return function(t){return null==t?void 0:t[e]}},L=n("./node_modules/lodash-es/_baseGet.js");var T=function(e){return function(t){return(0,L.Z)(t,e)}};var M=function(e){return(0,_.Z)(e)?z((0,v.Z)(e)):T(e)};var S=function(e){return"function"==typeof e?e:null==e?k.Z:"object"==typeof e?(0,y.Z)(e)?j(e[0],e[1]):f(e):M(e)}},"./node_modules/lodash-es/_baseKeys.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n("./node_modules/lodash-es/_isPrototype.js");var i=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),o=Object.prototype.hasOwnProperty;var u=function(e){if(!(0,r.Z)(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},"./node_modules/lodash-es/_castPath.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n("./node_modules/lodash-es/isArray.js"),i=n("./node_modules/lodash-es/_isKey.js"),o=n("./node_modules/lodash-es/_MapCache.js");function u(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=e.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(u.Cache||o.Z),n}u.Cache=o.Z;var d=u;var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,l=function(e){var t=d(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t})),f=n("./node_modules/lodash-es/_Symbol.js"),c=n("./node_modules/lodash-es/_arrayMap.js"),h=n("./node_modules/lodash-es/isSymbol.js"),p=f.Z?f.Z.prototype:void 0,m=p?p.toString:void 0;var y=function e(t){if("string"==typeof t)return t;if((0,r.Z)(t))return(0,c.Z)(t,e)+"";if((0,h.Z)(t))return m?m.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};var b=function(e){return null==e?"":y(e)};var g=function(e,t){return(0,r.Z)(e)?e:(0,i.Z)(e,t)?[e]:l(b(e))}},"./node_modules/lodash-es/_getTag.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var r=n("./node_modules/lodash-es/_getNative.js"),i=n("./node_modules/lodash-es/_root.js"),o=(0,r.Z)(i.Z,"DataView"),u=n("./node_modules/lodash-es/_Map.js"),d=(0,r.Z)(i.Z,"Promise"),s=n("./node_modules/lodash-es/_Set.js"),a=(0,r.Z)(i.Z,"WeakMap"),l=n("./node_modules/lodash-es/_baseGetTag.js"),f=n("./node_modules/lodash-es/_toSource.js"),c="[object Map]",h="[object Promise]",p="[object Set]",m="[object WeakMap]",y="[object DataView]",b=(0,f.Z)(o),g=(0,f.Z)(u.Z),v=(0,f.Z)(d),w=(0,f.Z)(s.Z),x=(0,f.Z)(a),_=l.Z;(o&&_(new o(new ArrayBuffer(1)))!=y||u.Z&&_(new u.Z)!=c||d&&_(d.resolve())!=h||s.Z&&_(new s.Z)!=p||a&&_(new a)!=m)&&(_=function(e){var t=(0,l.Z)(e),n="[object Object]"==t?e.constructor:void 0,r=n?(0,f.Z)(n):"";if(r)switch(r){case b:return y;case g:return c;case v:return h;case w:return p;case x:return m}return t});var j=_},"./node_modules/lodash-es/_isIndex.js":function(e,t){"use strict";var n=/^(?:0|[1-9]\d*)$/;t.Z=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&n.test(e))&&e>-1&&e%1==0&&e<t}},"./node_modules/lodash-es/_isKey.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/isArray.js"),i=n("./node_modules/lodash-es/isSymbol.js"),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.Z=function(e,t){if((0,r.Z)(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!(0,i.Z)(e))||(u.test(e)||!o.test(e)||null!=t&&e in Object(t))}},"./node_modules/lodash-es/_isPrototype.js":function(e,t){"use strict";var n=Object.prototype;t.Z=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},"./node_modules/lodash-es/_setToArray.js":function(e,t){"use strict";t.Z=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},"./node_modules/lodash-es/_toKey.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/isSymbol.js");t.Z=function(e){if("string"==typeof e||(0,r.Z)(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},"./node_modules/lodash-es/compact.js":function(e,t){"use strict";t.Z=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},"./node_modules/lodash-es/findIndex.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n("./node_modules/lodash-es/_baseFindIndex.js"),i=n("./node_modules/lodash-es/_baseIteratee.js"),o=n("./node_modules/lodash-es/toNumber.js"),u=1/0;var d=function(e){return e?(e=(0,o.Z)(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};var s=function(e){var t=d(e),n=t%1;return t===t?n?t-n:t:0},a=Math.max;var l=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var u=null==n?0:s(n);return u<0&&(u=a(o+u,0)),(0,r.Z)(e,(0,i.Z)(t,3),u)}},"./node_modules/lodash-es/get.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_baseGet.js");t.Z=function(e,t,n){var i=null==e?void 0:(0,r.Z)(e,t);return void 0===i?n:i}},"./node_modules/lodash-es/isBuffer.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n("./node_modules/lodash-es/_root.js");var i=function(){return!1},o="object"==typeof exports&&exports&&!exports.nodeType&&exports,u=o&&"object"==typeof module&&module&&!module.nodeType&&module,d=u&&u.exports===o?r.Z.Buffer:void 0,s=(d?d.isBuffer:void 0)||i},"./node_modules/lodash-es/isEmpty.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_baseKeys.js"),i=n("./node_modules/lodash-es/_getTag.js"),o=n("./node_modules/lodash-es/isArguments.js"),u=n("./node_modules/lodash-es/isArray.js"),d=n("./node_modules/lodash-es/isArrayLike.js"),s=n("./node_modules/lodash-es/isBuffer.js"),a=n("./node_modules/lodash-es/_isPrototype.js"),l=n("./node_modules/lodash-es/isTypedArray.js"),f=Object.prototype.hasOwnProperty;t.Z=function(e){if(null==e)return!0;if((0,d.Z)(e)&&((0,u.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,s.Z)(e)||(0,l.Z)(e)||(0,o.Z)(e)))return!e.length;var t=(0,i.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,a.Z)(e))return!(0,r.Z)(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},"./node_modules/lodash-es/isEqual.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_baseIsEqual.js");t.Z=function(e,t){return(0,r.Z)(e,t)}},"./node_modules/lodash-es/isSymbol.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_baseGetTag.js"),i=n("./node_modules/lodash-es/isObjectLike.js");t.Z=function(e){return"symbol"==typeof e||(0,i.Z)(e)&&"[object Symbol]"==(0,r.Z)(e)}},"./node_modules/lodash-es/isTypedArray.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n("./node_modules/lodash-es/_baseGetTag.js"),i=n("./node_modules/lodash-es/isLength.js"),o=n("./node_modules/lodash-es/isObjectLike.js"),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var d=function(e){return(0,o.Z)(e)&&(0,i.Z)(e.length)&&!!u[(0,r.Z)(e)]},s=n("./node_modules/lodash-es/_baseUnary.js"),a=n("./node_modules/lodash-es/_freeGlobal.js"),l="object"==typeof exports&&exports&&!exports.nodeType&&exports,f=l&&"object"==typeof module&&module&&!module.nodeType&&module,c=f&&f.exports===l&&a.Z.process,h=function(){try{var e=f&&f.require&&f.require("util").types;return e||c&&c.binding&&c.binding("util")}catch(t){}}(),p=h&&h.isTypedArray,m=p?(0,s.Z)(p):d},"./node_modules/lodash-es/keys.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},i=n("./node_modules/lodash-es/isArguments.js"),o=n("./node_modules/lodash-es/isArray.js"),u=n("./node_modules/lodash-es/isBuffer.js"),d=n("./node_modules/lodash-es/_isIndex.js"),s=n("./node_modules/lodash-es/isTypedArray.js"),a=Object.prototype.hasOwnProperty;var l=function(e,t){var n=(0,o.Z)(e),l=!n&&(0,i.Z)(e),f=!n&&!l&&(0,u.Z)(e),c=!n&&!l&&!f&&(0,s.Z)(e),h=n||l||f||c,p=h?r(e.length,String):[],m=p.length;for(var y in e)!t&&!a.call(e,y)||h&&("length"==y||f&&("offset"==y||"parent"==y)||c&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||(0,d.Z)(y,m))||p.push(y);return p},f=n("./node_modules/lodash-es/_baseKeys.js"),c=n("./node_modules/lodash-es/isArrayLike.js");var h=function(e){return(0,c.Z)(e)?l(e):(0,f.Z)(e)}},"./node_modules/lodash-es/some.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n("./node_modules/lodash-es/_arraySome.js"),i=n("./node_modules/lodash-es/_baseIteratee.js");var o=function(e){return function(t,n,r){for(var i=-1,o=Object(t),u=r(t),d=u.length;d--;){var s=u[e?d:++i];if(!1===n(o[s],s,o))break}return t}}(),u=n("./node_modules/lodash-es/keys.js");var d=function(e,t){return e&&o(e,t,u.Z)},s=n("./node_modules/lodash-es/isArrayLike.js");var a=function(e,t){return function(n,r){if(null==n)return n;if(!(0,s.Z)(n))return e(n,r);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&!1!==r(u[o],o,u););return n}}(d);var l=function(e,t){var n;return a(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n},f=n("./node_modules/lodash-es/isArray.js"),c=n("./node_modules/lodash-es/eq.js"),h=n("./node_modules/lodash-es/_isIndex.js"),p=n("./node_modules/lodash-es/isObject.js");var m=function(e,t,n){if(!(0,p.Z)(n))return!1;var r=typeof t;return!!("number"==r?(0,s.Z)(n)&&(0,h.Z)(t,n.length):"string"==r&&t in n)&&(0,c.Z)(n[t],e)};var y=function(e,t,n){var o=(0,f.Z)(e)?r.Z:l;return n&&m(e,t,n)&&(t=void 0),o(e,(0,i.Z)(t,3))}},"./node_modules/lodash-es/throttle.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n("./node_modules/lodash-es/isObject.js"),i=n("./node_modules/lodash-es/_root.js"),o=function(){return i.Z.Date.now()},u=n("./node_modules/lodash-es/toNumber.js"),d=Math.max,s=Math.min;var a=function(e,t,n){var i,a,l,f,c,h,p=0,m=!1,y=!1,b=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var n=i,r=a;return i=a=void 0,p=t,f=e.apply(r,n)}function v(e){return p=e,c=setTimeout(x,t),m?g(e):f}function w(e){var n=e-h;return void 0===h||n>=t||n<0||y&&e-p>=l}function x(){var e=o();if(w(e))return _(e);c=setTimeout(x,function(e){var n=t-(e-h);return y?s(n,l-(e-p)):n}(e))}function _(e){return c=void 0,b&&i?g(e):(i=a=void 0,f)}function j(){var e=o(),n=w(e);if(i=arguments,a=this,h=e,n){if(void 0===c)return v(h);if(y)return clearTimeout(c),c=setTimeout(x,t),g(h)}return void 0===c&&(c=setTimeout(x,t)),f}return t=(0,u.Z)(t)||0,(0,r.Z)(n)&&(m=!!n.leading,l=(y="maxWait"in n)?d((0,u.Z)(n.maxWait)||0,t):l,b="trailing"in n?!!n.trailing:b),j.cancel=function(){void 0!==c&&clearTimeout(c),p=0,i=h=a=c=void 0},j.flush=function(){return void 0===c?f:_(o())},j};var l=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,r.Z)(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),a(e,t,{leading:i,maxWait:t,trailing:o})}},"./node_modules/lodash-es/toNumber.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=/\s/;var i=function(e){for(var t=e.length;t--&&r.test(e.charAt(t)););return t},o=/^\s+/;var u=function(e){return e?e.slice(0,i(e)+1).replace(o,""):e},d=n("./node_modules/lodash-es/isObject.js"),s=n("./node_modules/lodash-es/isSymbol.js"),a=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,f=/^0o[0-7]+$/i,c=parseInt;var h=function(e){if("number"==typeof e)return e;if((0,s.Z)(e))return NaN;if((0,d.Z)(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=(0,d.Z)(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=u(e);var n=l.test(e);return n||f.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},"./node_modules/lodash-es/uniq.js":function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n("./node_modules/lodash-es/_SetCache.js"),i=n("./node_modules/lodash-es/_arrayIncludes.js"),o=n("./node_modules/lodash-es/_arrayIncludesWith.js"),u=n("./node_modules/lodash-es/_cacheHas.js"),d=n("./node_modules/lodash-es/_Set.js");var s=function(){},a=n("./node_modules/lodash-es/_setToArray.js"),l=d.Z&&1/(0,a.Z)(new d.Z([,-0]))[1]==1/0?function(e){return new d.Z(e)}:s;var f=function(e,t,n){var d=-1,s=i.Z,f=e.length,c=!0,h=[],p=h;if(n)c=!1,s=o.Z;else if(f>=200){var m=t?null:l(e);if(m)return(0,a.Z)(m);c=!1,s=u.Z,p=new r.Z}else p=t?[]:h;e:for(;++d<f;){var y=e[d],b=t?t(y):y;if(y=n||0!==y?y:0,c&&b===b){for(var g=p.length;g--;)if(p[g]===b)continue e;t&&p.push(b),h.push(y)}else s(p,b,n)||(p!==h&&p.push(b),h.push(y))}return h};var c=function(e){return e&&e.length?f(e):[]}}}]);
//# sourceMappingURL=8268-a51ac67416c034909d9e.js.map