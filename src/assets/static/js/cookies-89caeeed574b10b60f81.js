"use strict";(self.webpackChunkteamtailor=self.webpackChunkteamtailor||[]).push([[8278],{"./app/javascript/packs/cookies.js":function(t,e,n){var o=n("./app/javascript/utils/script-tags.js");navigator.cookieEnabled&&((0,o.V)(),document.addEventListener("turbo:load",(()=>{(0,o.V)()})))},"./app/javascript/utils/cookies.js":function(t,e,n){n.d(e,{$$:function(){return l},Jc:function(){return r},TP:function(){return f},Xs:function(){return j},hI:function(){return k},jW:function(){return m},jk:function(){return p}});var o=n("./node_modules/js-cookie/dist/js.cookie.mjs"),i=n("./node_modules/lodash-es/difference.js"),a=n("./app/javascript/utils/gtm.js"),c=n("./app/javascript/utils/script-tags.js");const r=["analytics","marketing","preferences"],s="_ttCookiePermissions",u=["_tt_session"],d=["_ttAnalytics","referrer","ti"];function p(t){m(r,t)}function l(t){m([],t)}function f(){return o.Z.get(s)?.split(",")||[]}function j(t){return f().find((e=>e===t))}function k(){return void 0!==o.Z.get(s)}function m(t,e){const n=(0,i.Z)(f(),t).length>0;if((0,a.J)(t),n){Object.keys(o.Z.get()).filter((t=>![...u,s].includes(t))).forEach((t=>{d.includes(t)?o.Z.remove(t):o.Z.remove(t,{domain:window.location.hostname})}))}fetch("/cookie-policy/accept",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({cookie_policy:{visitor_uuid:window.visitor_uuid,categories:t.join(","),same_site:e?"None":void 0}})}).then((()=>{(0,c.V)(),n?window.location.reload():document.dispatchEvent(new Event("teamtailor:cookies-changed"))}))}},"./app/javascript/utils/gtm.js":function(t,e,n){n.d(e,{J:function(){return c}});const o={analytics:"analytics_storage",marketing:"ad_storage",preferences:"personalization_storage"},i=["ad_personalization","ad_user_data"],a={analytics_storage:"denied",ad_storage:"denied",personalization_storage:"denied",ad_personalization:"denied",ad_user_data:"denied"};function c(t,e="update"){let n={...a};t.forEach((t=>{n[o[t]]="granted"})),i.forEach((t=>{n[t]=n.ad_storage})),function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push(arguments)}("consent",e,n),window.dataLayer.push({event:"cookie_consent_updated"})}},"./app/javascript/utils/script-tags.js":function(t,e,n){n.d(e,{V:function(){return a}});var o=n("./node_modules/lodash-es/difference.js"),i=n("./app/javascript/utils/cookies.js");function a(){const t="true"===document.body.dataset.blockScripts?(0,i.TP)():i.Jc;t.forEach((function(t){!function(t){(function(t){let e="script[data-cookie-type='"+t+"'][type='text/plain']";document.querySelectorAll(e).forEach((t=>{let e=t.cloneNode(!0);e.setAttribute("type","text/javascript"),t.parentNode.insertBefore(e,t),t.remove()}))})(t),function(t){let e="iframe[data-cookie-type='"+t+"']";document.querySelectorAll(e).forEach((t=>{let e=t.getAttribute("data-src");e&&t.setAttribute("src",e)}))}(t);let e=new CustomEvent("cookies-enabled");document.dispatchEvent(e)}(t),s(c(t),!0),s(r(t),!1)}));(0,o.Z)(i.Jc,t).forEach((function(t){s(c(t),!1),s(r(t),!0)}))}function c(t){return'[data-cookie-block="'+t+'"]'}function r(t){return'[data-cookies-required="'+t+'"]'}function s(t,e){document.querySelectorAll(t).forEach((function(t){t.style.display=e?"":"none"}))}}},function(t){t.O(0,[9608],(function(){return e="./app/javascript/packs/cookies.js",t(t.s=e);var e}));t.O()}]);
//# sourceMappingURL=cookies-89caeeed574b10b60f81.js.map